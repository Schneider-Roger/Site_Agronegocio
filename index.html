<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Programação da Feira</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="assets/css/programacao-admin.css">
</head>
<body>
  <div class="admin-layout">
    <aside class="sidebar">
      <div class="logo-container">
        <img src="assets/img/Modo_de_isolamento.png" alt="Logo da Feira">
      </div>
      <nav>
        <a href="dashboard.html"> Painel</a>
        <a href="editar-home.html"> Editar Home</a>
        <a href="editar-programacao.html" class="active"> Programação</a>
        <a href="gerenciar-galeria.html"> Galeria</a>
        <a href="expositores.html"> Expositores</a>
        <a href="mensagens.html"> Mensagens</a>
      </nav>
      <div class="logout-footer">
        <a href="/logout" class="logout-btn">Desconectar</a>
      </div>
    </aside>

    <main class="main-content">
      <h1>Programação da Feira</h1>

      <!-- Seções para programação online e presencial -->
      <div class="programacao-secoes">
        <div class="programacao-secao" id="programacao-online">
          <h2>Programação Online</h2>
          <!-- Dias e eventos serão injetados aqui pelo JavaScript -->
        </div>
        <div class="programacao-secao" id="programacao-presencial">
          <h2>Programação Presencial</h2>
          <!-- Dias e eventos serão injetados aqui pelo JavaScript -->
        </div>
      </div>
    </main>
  </div>

  <script>
    // Buscar programação do backend e renderizar
    fetch('/api/home')
      .then(res => res.json())
      .then(data => {
        // Renderizar programação online
        const online = Array.isArray(data.programacao_online) ? data.programacao_online : [];
        const presencial = Array.isArray(data.programacao_presencial) ? data.programacao_presencial : [];

        // Exemplo: renderizar programação online
        const onlineContainer = document.getElementById('programacao-online');
        if (onlineContainer) {
          onlineContainer.innerHTML = '';
          online.forEach(dia => {
            const diaDiv = document.createElement('div');
            diaDiv.className = 'dia-programacao';
            diaDiv.innerHTML = `<h4>${dia.data}</h4>`;
            if (Array.isArray(dia.eventos)) {
              dia.eventos.forEach(ev => {
                const evDiv = document.createElement('div');
                evDiv.className = 'evento-programacao';
                evDiv.innerHTML = `<span>${ev.hora}</span> - <span>${ev.titulo}</span>`;
                diaDiv.appendChild(evDiv);
              });
            }
            onlineContainer.appendChild(diaDiv);
          });
        }

        // Exemplo: renderizar programação presencial
        const presencialContainer = document.getElementById('programacao-presencial');
        if (presencialContainer) {
          presencialContainer.innerHTML = '';
          presencial.forEach(dia => {
            const diaDiv = document.createElement('div');
            diaDiv.className = 'dia-programacao';
            diaDiv.innerHTML = `<h4>${dia.data}</h4>`;
            if (Array.isArray(dia.eventos)) {
              dia.eventos.forEach(ev => {
                const evDiv = document.createElement('div');
                evDiv.className = 'evento-programacao';
                evDiv.innerHTML = `<span>${ev.hora}</span> - <span>${ev.titulo}</span>`;
                diaDiv.appendChild(evDiv);
              });
            }
            presencialContainer.appendChild(diaDiv);
          });
        }
      });
  </script>
</body>
</html>