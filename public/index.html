<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Feira do Agroneg√≥cio - Home</title>
  <link rel="stylesheet" href="assets/css/home.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <!-- =====================
       HEADER/NAVBAR
       ===================== -->
  <header class="site-header">
    <div class="container">
      <!-- Logo da Feira -->
      <div class="logo-area">
        <img src="assets/img/Modo_de_isolamento.png" alt="Logo da Feira">
      </div>
      
      <!-- Menu de Navega√ß√£o Desktop -->
      <nav class="menu">
        <a href="index.html">Home</a>
        <!-- Dropdown: A Feira -->
        <div class="dropdown">
          <a href="#afeira" class="dropdown-toggle">A Feira</a>
          <div class="dropdown-menu">
            <a href="#afeira">Sobre a Feira</a>
            <a href="#expositor">Expositores</a>
            <a href="#mapa">Mapa da Feira</a>
            <a href="#programacao">Programa√ß√£o</a>
            <a href="#material">Manual da Feira</a>
            <a href="#local">Local</a>
          </div>
        </div>
        <a href="galeria.html">Galeria</a>
        <a href="contato.html">Contato</a>
      </nav>
      
      <!-- Bot√£o Hamburger Mobile -->
      <button class="header-mobile-toggle" id="headerMobileToggle" aria-expanded="false" aria-controls="headerMobileMenu" title="Menu de navega√ß√£o">
      </button>
      
      <!-- Bot√µes de autentica√ß√£o Desktop -->
      <div class="auth-buttons">
        <a href="cadastro.html" class="btn btn-outline">Cadastre-se</a>
        <a href="login.html" class="btn btn-solid">Login</a>
      </div>
    </div>
    
    <!-- Menu Mobile Overlay -->
    <div class="header-mobile-menu" id="headerMobileMenu">
      <div class="header-mobile-content">
        <div class="header-mobile-header">
          <h3>Menu</h3>
          <button class="header-mobile-close" id="headerMobileClose">&times;</button>
        </div>
        
        <nav class="header-mobile-nav">
          <a href="index.html">Home</a>
          <a href="#afeira">A Feira</a>
          <a href="#afeira" class="submenu-item">Sobre a Feira</a>
          <a href="#expositor" class="submenu-item">Expositores</a>
          <a href="#mapa" class="submenu-item">Mapa da Feira</a>
          <a href="#programacao" class="submenu-item">Programa√ß√£o</a>
          <a href="#material" class="submenu-item">Manual da Feira</a>
          <a href="#local" class="submenu-item">Local</a>
          <a href="galeria.html">Galeria</a>
          <a href="contato.html">Contato</a>
        </nav>
        
        <div class="header-mobile-auth">
          <a href="cadastro.html" class="btn btn-outline">Cadastre-se</a>
          <a href="login.html" class="btn btn-solid">Login</a>
        </div>
      </div>
    </div>
  </header>
  
  <!-- Script para funcionalidade do menu mobile do header -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const headerToggle = document.getElementById('headerMobileToggle');
      const headerMenu = document.getElementById('headerMobileMenu');
      const headerClose = document.getElementById('headerMobileClose');
      
      if (headerToggle && headerMenu && headerClose) {
        
        // Fun√ß√£o centralizada para fechar o menu
        function closeHeaderMenu() {
          headerMenu.classList.remove('show');
          headerToggle.classList.remove('active');
          headerToggle.setAttribute('aria-expanded', 'false');
          document.body.style.overflow = ''; // Restaura scroll da p√°gina
        }
        
        // Abrir menu
        headerToggle.addEventListener('click', function() {
          headerMenu.classList.add('show');
          headerToggle.classList.add('active');
          headerToggle.setAttribute('aria-expanded', 'true');
          document.body.style.overflow = 'hidden'; // Previne scroll da p√°gina
        });
        
        // Fechar menu - bot√£o X
        headerClose.addEventListener('click', function() {
          closeHeaderMenu();
        });
        
        // Fechar menu - clique no overlay
        headerMenu.addEventListener('click', function(event) {
          if (event.target === headerMenu) {
            closeHeaderMenu();
          }
        });
        
        // Fechar menu - tecla ESC
        document.addEventListener('keydown', function(event) {
          if (event.key === 'Escape' && headerMenu.classList.contains('show')) {
            closeHeaderMenu();
          }
        });
        
        // Fechar menu ao clicar em links (para navega√ß√£o suave)
        const mobileLinks = headerMenu.querySelectorAll('a');
        mobileLinks.forEach(link => {
          link.addEventListener('click', function() {
            // Fecha imediatamente para links internos
            if (link.getAttribute('href').startsWith('#') || link.getAttribute('href').indexOf('.html') > -1) {
              setTimeout(() => {
                closeHeaderMenu();
              }, 100); // Delay reduzido para melhor responsividade
            }
          });
        });
      }
    });
  </script>

  <!-- =====================
       BANNER PRINCIPAL
       ===================== -->
  <section class="banner" style="max-width:1440px;max-height:720px;width:100%;height:720px;margin:0 auto;overflow:hidden;">
    <img src="" alt="Banner da Feira" id="banner-img" style="width:100%;height:100%;object-fit:cover;max-width:1440px;max-height:720px;">
  </section>

  <!-- =====================
       CONTADOR REGRESSIVO DIN√ÇMICO
       ===================== -->
<link rel="stylesheet" href="assets/css/contador.css">
<section class="contador-banner" id="contador-dinamico-section" style="display:none;">
  <h2> Em breve, a feira que movimenta o agro estar√° de volta</h2>
  <div id="contador">
    <div><span id="dias" class="contador-numero">00</span><span class="contador-label">dias</span></div>
    <div>:</div>
    <div><span id="horas" class="contador-numero">00</span><span class="contador-label">horas</span></div>
    <div>:</div>
    <div><span id="minutos" class="contador-numero">00</span><span class="contador-label">min</span></div>
    <div>:</div>
    <div><span id="segundos" class="contador-numero">00</span><span class="contador-label">seg</span></div>
  </div>
</section>
  <script>
    // =====================
    // CONTADOR DIN√ÇMICO - Carrega data do backend
    // =====================
    let contadorInterval = null;
    let dataFeiraGlobal = null;
    
    function carregarContadorDinamico() {
      fetch('http://localhost:3000/api/home')
        .then(res => res.json())
        .then(data => {
          console.log('[DEBUG] Dados do contador carregados:', {
            contador_data_feira: data.contador_data_feira,
            contador_data_ativo: data.contador_data_ativo
          });
          
          const secaoContador = document.getElementById('contador-dinamico-section');
          
          // Verifica se a se√ß√£o est√° ativa
          if (data.contador_data_ativo && data.contador_data_feira) {
            // Mostra a se√ß√£o
            secaoContador.style.display = 'block';
            
            // Define a data da feira
            dataFeiraGlobal = new Date(data.contador_data_feira);
            
            // Verifica se a data √© v√°lida
            if (isNaN(dataFeiraGlobal.getTime())) {
              console.error('[DEBUG] Data inv√°lida do contador:', data.contador_data_feira);
              secaoContador.style.display = 'none';
              return;
            }
            
            // Para qualquer contador anterior
            if (contadorInterval) {
              clearInterval(contadorInterval);
            }
            
            // Inicia novo contador
            iniciarContadorDinamico();
          } else {
            // Esconde a se√ß√£o se n√£o estiver ativa
            secaoContador.style.display = 'none';
            console.log('[DEBUG] Se√ß√£o contador desativada ou sem data');
          }
        })
        .catch(error => {
          console.error('[DEBUG] Erro ao carregar dados do contador:', error);
          // Em caso de erro, esconde a se√ß√£o
          document.getElementById('contador-dinamico-section').style.display = 'none';
        });
    }
    
    function iniciarContadorDinamico() {
      function atualizarContador() {
        if (!dataFeiraGlobal) return;
        
        const agora = new Date();
        const diff = dataFeiraGlobal - agora;
        
        if (diff <= 0) {
          document.getElementById('contador').innerHTML = "<span style='color:#BE5E14;'>A feira j√° come√ßou!</span>";
          if (contadorInterval) {
            clearInterval(contadorInterval);
            contadorInterval = null;
          }
          return;
        }
        
        const dias = Math.floor(diff / (1000 * 60 * 60 * 24));
        const horas = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutos = Math.floor((diff / (1000 * 60)) % 60);
        const segundos = Math.floor((diff / 1000) % 60);
        
        const diasEl = document.getElementById('dias');
        const horasEl = document.getElementById('horas');
        const minutosEl = document.getElementById('minutos');
        const segundosEl = document.getElementById('segundos');
        
        if (diasEl) diasEl.textContent = dias.toString().padStart(2, '0');
        if (horasEl) horasEl.textContent = horas.toString().padStart(2, '0');
        if (minutosEl) minutosEl.textContent = minutos.toString().padStart(2, '0');
        if (segundosEl) segundosEl.textContent = segundos.toString().padStart(2, '0');
      }
      
      // Atualiza imediatamente
      atualizarContador();
      
      // Continua atualizando a cada segundo
      contadorInterval = setInterval(atualizarContador, 1000);
    }
    
    // Carrega o contador quando a p√°gina for carregada
    document.addEventListener('DOMContentLoaded', carregarContadorDinamico);

    // =====================
    // CARREGAMENTO DE DADOS DA HOME
    // =====================
    function carregarDadosHome() {
      console.log('[DEBUG] *** INICIANDO CARREGAMENTO DOS DADOS DA HOME ***');
      console.log('[TESTE] Fun√ß√£o carregarDadosHome executada!');
      fetch('http://localhost:3000/api/home')
        .then(res => {
          console.log('[DEBUG] Resposta recebida, status:', res.status);
          return res.json();
        })
        .then(data => {
          console.log('[DEBUG] *** DADOS DA HOME CARREGADOS COM SUCESSO ***');
          console.log('[DEBUG] Dados recebidos:', data);
          
          // Banner
          if (data.banner) {
            const bannerImg = document.getElementById('banner-img');
            console.log('[DEBUG] Banner encontrado:', data.banner, 'Element:', bannerImg);
            if (bannerImg) {
              bannerImg.src = 'http://localhost:3000' + data.banner;
              console.log('[DEBUG] ‚úÖ Banner atualizado');
            }
          }
          
          // Faixa abaixo do banner
          console.log('[DEBUG] Verificando faixa_titulo:', data.faixa_titulo);
          if (data.faixa_titulo) {
            const faixaTitulo = document.getElementById('faixa-titulo');
            console.log('[DEBUG] Elemento faixa-titulo encontrado:', faixaTitulo);
            if (faixaTitulo) {
              faixaTitulo.textContent = data.faixa_titulo;
              console.log('[DEBUG] ‚úÖ Faixa t√≠tulo atualizado para:', data.faixa_titulo);
            }
          }
          
          console.log('[DEBUG] Verificando faixa_texto:', data.faixa_texto);
          if (data.faixa_texto) {
            const faixaTexto = document.getElementById('faixa-texto');
            console.log('[DEBUG] Elemento faixa-texto encontrado:', faixaTexto);
            if (faixaTexto) {
              faixaTexto.textContent = data.faixa_texto;
              console.log('[DEBUG] ‚úÖ Faixa texto atualizado');
            }
          }
          
          // Bot√£o da faixa
          const faixaBotao = document.getElementById('faixa-botao');
          if (faixaBotao) {
            if (data.faixa_botao_ativo && data.faixa_botao_texto && data.faixa_botao_url) {
              faixaBotao.textContent = data.faixa_botao_texto;
              faixaBotao.href = data.faixa_botao_url;
              faixaBotao.style.display = 'inline-block';
              console.log('[DEBUG] ‚úÖ Bot√£o da faixa atualizado');
            } else {
              faixaBotao.style.display = 'none';
              console.log('[DEBUG] ‚ö†Ô∏è Bot√£o da faixa ocultado');
            }
          }
          
          // Sess√£o A Feira
          console.log('[DEBUG] Verificando afeira_titulo:', data.afeira_titulo);
          if (data.afeira_titulo) {
            const afeiraTitulo = document.getElementById('afeira-titulo');
            console.log('[DEBUG] Elemento afeira-titulo encontrado:', afeiraTitulo);
            if (afeiraTitulo) {
              afeiraTitulo.textContent = data.afeira_titulo;
              console.log('[DEBUG] ‚úÖ A Feira t√≠tulo atualizado para:', data.afeira_titulo);
            }
          }
          
          console.log('[DEBUG] Verificando afeira_texto:', data.afeira_texto?.substring(0, 50) + '...');
          if (data.afeira_texto) {
            const afeiraTexto = document.getElementById('afeira-texto');
            console.log('[DEBUG] Elemento afeira-texto encontrado:', afeiraTexto);
            if (afeiraTexto) {
              afeiraTexto.textContent = data.afeira_texto;
              console.log('[DEBUG] ‚úÖ A Feira texto atualizado');
            }
          }
          
          // Imagens da sess√£o A Feira
          console.log('[DEBUG] === PROCESSANDO IMAGENS A FEIRA ===');
          console.log('[DEBUG] Verificando afeira_imagens:', data.afeira_imagens);
          console.log('[DEBUG] √â array?', Array.isArray(data.afeira_imagens));
          console.log('[DEBUG] Tamanho do array:', data.afeira_imagens ? data.afeira_imagens.length : 'undefined');
          
          if (data.afeira_imagens && Array.isArray(data.afeira_imagens)) {
            const afeiraImagens = document.getElementById('afeira-imagens');
            console.log('[DEBUG] Container afeira-imagens encontrado:', afeiraImagens);
            console.log('[DEBUG] Container HTML atual:', afeiraImagens ? afeiraImagens.innerHTML.substring(0, 100) : 'elemento n√£o encontrado');
            
            if (afeiraImagens) {
              console.log('[DEBUG] Limpando container...');
              afeiraImagens.innerHTML = '';
              console.log('[DEBUG] Container limpo, conte√∫do agora:', afeiraImagens.innerHTML);
              
              // Filtrar apenas imagens v√°lidas (n√£o vazias ou nulas)
              const imagensValidas = data.afeira_imagens.filter(img => img && img.trim() !== '');
              console.log('[DEBUG] Imagens v√°lidas encontradas:', imagensValidas.length);
              console.log('[DEBUG] Lista de imagens v√°lidas:', imagensValidas);
              
              imagensValidas.slice(0, 3).forEach((img, index) => {
                if (img && img.trim()) {
                  console.log('[DEBUG] Processando imagem', index + 1, ':', img);
                  const imgElement = document.createElement('img');
                  // Adiciona timestamp para evitar cache
                  const timestamp = new Date().getTime();
                  const finalUrl = 'http://localhost:3000' + img + '?t=' + timestamp;
                  imgElement.src = finalUrl;
                  imgElement.alt = `Imagem ${index + 1} da Feira`;
                  
                  imgElement.onerror = function() {
                    console.error('[DEBUG] ‚ùå Erro ao carregar imagem:', img, 'URL final:', finalUrl);
                  };
                  imgElement.onload = function() {
                    console.log('[DEBUG] ‚úÖ Imagem carregada com sucesso:', img, 'Dimens√µes:', this.naturalWidth + 'x' + this.naturalHeight);
                  };
                  
                  afeiraImagens.appendChild(imgElement);
                  console.log('[DEBUG] ‚úÖ Imagem A Feira adicionada ao DOM:', img, 'Total de filhos agora:', afeiraImagens.children.length);
                }
              });
              
              console.log('[DEBUG] === FIM PROCESSAMENTO IMAGENS A FEIRA ===');
              console.log('[DEBUG] Container final possui', afeiraImagens.children.length, 'imagens');
            } else {
              console.error('[DEBUG] ‚ùå Container afeira-imagens N√ÉO encontrado!');
            }
          } else {
            console.warn('[DEBUG] ‚ö†Ô∏è afeira_imagens n√£o √© um array v√°lido ou est√° vazio');
          }
          
          console.log('[DEBUG] *** CARREGAMENTO CONCLU√çDO ***');
          
          // Sess√£o O QUE ESPERAR
          if (data.oqueesperar_titulo) {
            const oqueesperarTitulo = document.querySelector('.oqueesperar-titulo');
            if (oqueesperarTitulo) oqueesperarTitulo.textContent = data.oqueesperar_titulo;
          }
          
          // Cards O QUE ESPERAR
          for (let i = 1; i <= 8; i++) {
            const textoCard = data[`oqueesperar_card${i}_texto`];
            const imagemCard = data[`oqueesperar_card${i}_img`];
            
            if (textoCard || imagemCard) {
              const cards = document.querySelectorAll('.oqueesperar-card');
              if (cards[i-1]) {
                const front = cards[i-1].querySelector('.oqueesperar-card-front');
                const back = cards[i-1].querySelector('.oqueesperar-card-back img');
                
                if (front && textoCard) {
                  front.textContent = textoCard;
                }
                
                if (back && imagemCard) {
                  back.src = 'http://localhost:3000' + imagemCard;
                  back.alt = textoCard || `Item ${i}`;
                }
              }
            }
          }
          
          // Dados de local
          if (data.local_endereco) {
            // Atualiza tanto o par√°grafo est√°tico quanto o div din√¢mico
            const localEnderecoP = document.querySelector('p.local-endereco');
            const localEnderecoDiv = document.getElementById('local-endereco');
            
            if (localEnderecoP) localEnderecoP.textContent = data.local_endereco;
            if (localEnderecoDiv) localEnderecoDiv.textContent = data.local_endereco;
            console.log('[DEBUG] ‚úÖ Endere√ßo local atualizado:', data.local_endereco);
          }
          
          // Configurar mapa e link do Google Maps
          const localMapaLink = document.getElementById('local-mapa-link');
          const localMapaIframe = document.querySelector('#local-mapa-iframe-wrapper iframe');
          
          if (data.local_maps_url && data.local_maps_url.trim() !== '') {
            console.log('[DEBUG] Configurando mapa personalizado:', data.local_maps_url);
            
            // Configurar bot√£o "Ver no Google Maps" - converter embed URL para URL regular
            if (localMapaLink) {
              let regularMapsUrl = data.local_maps_url;
              
              // Se √© uma URL de embed, converter para URL regular do Google Maps
              if (data.local_maps_url.includes('google.com/maps/embed')) {
                // Extrair coordenadas da URL embed usando regex mais espec√≠fico
                const coordsMatch = data.local_maps_url.match(/!3d(-?\d+\.?\d*)[^!]*!2d(-?\d+\.?\d*)/);
                if (coordsMatch) {
                  const lat = coordsMatch[1];
                  const lng = coordsMatch[2];
                  // Criar URL regular do Google Maps com as coordenadas
                  regularMapsUrl = `https://www.google.com/maps?q=${lat},${lng}`;
                  console.log('[DEBUG] URL embed convertida para URL regular:', regularMapsUrl);
                } else {
                  // Fallback para coordenadas do Centro de Eventos Copercana
                  regularMapsUrl = 'https://www.google.com/maps?q=-21.13868844841832,-48.01983643048648';
                  console.log('[DEBUG] Usando coordenadas padr√£o do Centro de Eventos Copercana');
                }
              }
              
              localMapaLink.href = regularMapsUrl;
              localMapaLink.style.display = 'inline-block';
              console.log('[DEBUG] ‚úÖ Link do Google Maps atualizado:', regularMapsUrl);
            }
            
            // Atualizar iframe do mapa - usar m√©todo sem API key
            if (localMapaIframe) {
              let embedUrl = '';
              const originalUrl = data.local_maps_url;
              
              // Se j√° √© uma URL de embed v√°lida, usa diretamente
              if (originalUrl.includes('google.com/maps/embed')) {
                embedUrl = originalUrl;
                console.log('[DEBUG] URL j√° √© embed v√°lida');
              }
              // Para qualquer outro tipo de link, usar fallback com coordenadas conhecidas
              else {
                console.log('[DEBUG] Convertendo para embed sem API key');
                // Usar as coordenadas conhecidas do Centro de Eventos Copercana
                // Este m√©todo sempre funcionar√° sem precisar de API key
                embedUrl = 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3719.2956387449887!2d-48.01983643048648!3d-21.13868844841832!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94b99ec005ebdf23%3A0xf1e6033652b3d72c!2sCentro%20de%20Eventos%20Copercana!5e1!3m2!1spt-BR!2sbr';
                
                // Tentar extrair coordenadas se dispon√≠vel para personalizar
                if (originalUrl.includes('/@')) {
                  const coordsMatch = originalUrl.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);
                  if (coordsMatch) {
                    const lat = coordsMatch[1];
                    const lng = coordsMatch[2];
                    // Construir URL embed com coordenadas personalizadas
                    embedUrl = `https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d1000!2d${lng}!3d${lat}!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e1!3m2!1spt-BR!2sbr`;
                    console.log('[DEBUG] URL embed com coordenadas personalizadas');
                  }
                }
              }
              
              localMapaIframe.src = embedUrl;
              console.log('[DEBUG] ‚úÖ Iframe do mapa atualizado');
            }
          } else {
            console.log('[DEBUG] Usando mapa padr√£o (Centro de Eventos Copercana)');
            
            // Configurar bot√£o com link padr√£o
            if (localMapaLink) {
              localMapaLink.href = 'https://maps.google.com/maps?q=Centro+de+Eventos+Copercana,+Sert%C3%A3ozinho,+SP';
              localMapaLink.style.display = 'inline-block';
              console.log('[DEBUG] ‚úÖ Link padr√£o do Google Maps configurado');
            }
            
            // Manter iframe padr√£o (j√° est√° configurado no HTML)
            console.log('[DEBUG] ‚úÖ Mantendo iframe padr√£o do mapa');
          }
          
          // =====================
          // SESS√ÉO MAPA DA FEIRA
          // =====================
          console.log('[DEBUG] === PROCESSANDO MAPA DA FEIRA ===');
          if (data.mapa_imagem) {
            const mapaWrapper = document.getElementById('mapa-imagem-wrapper');
            const btnDownloadMapa = document.getElementById('btn-download-mapa');
            
            if (mapaWrapper) {
              console.log('[DEBUG] Mapa encontrado:', data.mapa_imagem);
              mapaWrapper.innerHTML = '';
              
              const mapaUrl = 'http://localhost:3000' + data.mapa_imagem;
              const fileExtension = data.mapa_imagem.split('.').pop().toLowerCase();
              
              if (fileExtension === 'pdf') {
                // Se for PDF, exibir link para download
                mapaWrapper.innerHTML = `
                  <div class="pdf-preview">
                    <div class="pdf-icon">üìã</div>
                    <p>Mapa da Feira (PDF)</p>
                    <a href="${mapaUrl}" target="_blank" class="btn btn-solid">Ver Mapa</a>
                  </div>
                `;
              } else {
                // Se for imagem, exibir a imagem
                const mapaImg = document.createElement('img');
                mapaImg.src = mapaUrl;
                mapaImg.alt = 'Mapa da Feira';
                mapaImg.className = 'mapa-imagem-zoom';
                mapaImg.style.maxWidth = '100%';
                mapaImg.style.height = 'auto';
                mapaImg.style.maxHeight = '700px';
                mapaImg.style.width = 'auto';
                mapaImg.style.display = 'block';
                mapaImg.style.margin = '0 auto';
                mapaImg.style.borderRadius = '16px';
                mapaImg.style.boxShadow = '0 2px 8px rgba(0,0,0,0.08)';
                mapaImg.style.objectFit = 'contain';
                mapaImg.style.cursor = 'zoom-in';
                
                mapaImg.onerror = function() {
                  console.error('[DEBUG] ‚ùå Erro ao carregar mapa:', data.mapa_imagem);
                  mapaWrapper.innerHTML = '<p style="text-align:center;color:#666;">Erro ao carregar o mapa</p>';
                };
                
                mapaImg.onload = function() {
                  console.log('[DEBUG] ‚úÖ Mapa carregado com sucesso');
                };
                
                mapaWrapper.appendChild(mapaImg);
              }
              
              // Configurar bot√£o de download
              if (btnDownloadMapa) {
                btnDownloadMapa.href = mapaUrl;
                btnDownloadMapa.style.display = 'inline-block';
                console.log('[DEBUG] ‚úÖ Bot√£o de download do mapa configurado');
              }
            }
          } else {
            console.log('[DEBUG] ‚ö†Ô∏è Nenhum mapa encontrado nos dados');
            const mapaWrapper = document.getElementById('mapa-imagem-wrapper');
            if (mapaWrapper) {
              mapaWrapper.innerHTML = '<p style="text-align:center;color:#666;">Mapa ainda n√£o dispon√≠vel</p>';
            }
          }
          console.log('[DEBUG] === FIM PROCESSAMENTO MAPA ===');
          
          // =====================
          // SESS√ÉO EXPOSITOR DIN√ÇMICA
          // =====================
          console.log('[DEBUG] === PROCESSANDO EXPOSITORES ===');
          
          // Atualizar t√≠tulo do expositor
          if (data.expositor_titulo) {
            const expositorTitulo = document.querySelector('.expositor-titulo');
            if (expositorTitulo) {
              expositorTitulo.textContent = data.expositor_titulo;
              console.log('[DEBUG] ‚úÖ T√≠tulo do expositor atualizado:', data.expositor_titulo);
            }
          }
          
          // Atualizar setores e suas logos
          const setoresGrid = document.querySelector('.expositor-setores-grid');
          if (setoresGrid) {
            console.log('[DEBUG] Container de setores encontrado');
            
            // Limpar conte√∫do existente
            setoresGrid.innerHTML = '';
            
            // Detectar quantos setores existem
            let totalSetores = 0;
            for (let i = 1; i <= 20; i++) {
              if (data[`expositor_setor${i}_texto`] !== undefined || 
                  (data[`expositor_setor${i}_logos`] && data[`expositor_setor${i}_logos`].length > 0)) {
                totalSetores = i;
              }
            }
            
            // Garantir pelo menos 4 setores (padr√£o)
            totalSetores = Math.max(4, totalSetores);
            console.log(`[DEBUG] Total de setores a renderizar: ${totalSetores}`);
            
            // Renderizar cada setor
            for (let i = 1; i <= totalSetores; i++) {
              const textoSetor = data[`expositor_setor${i}_texto`] || `Setor ${i}`;
              const logosSetor = data[`expositor_setor${i}_logos`] || [];
              
              console.log(`[DEBUG] Setor ${i}: "${textoSetor}" - ${logosSetor.length} logos`);
              
              // Criar elemento do setor
              const setorCard = document.createElement('div');
              setorCard.className = 'expositor-setor-card';
              setorCard.setAttribute('data-setor', `setor${i}`);
              
              // Nome do setor
              const nomeSetor = document.createElement('div');
              nomeSetor.className = 'setor-nome';
              nomeSetor.textContent = textoSetor;
              setorCard.appendChild(nomeSetor);
              
              // Adicionar painel de hover para todos os setores que t√™m logos
              if (logosSetor.length > 0) {
                const hoverPanel = document.createElement('div');
                // Usar classe padronizada para todos os setores
                hoverPanel.className = 'setor-hover-panel';
                
                // Header removido - apenas logos conforme solicitado
                
                // Seta de navega√ß√£o - esquerda
                const leftArrow = document.createElement('div');
                leftArrow.className = 'nav-arrow left';
                leftArrow.innerHTML = '';
                leftArrow.addEventListener('click', (e) => {
                  e.stopPropagation();
                  console.log(`[DEBUG] Navega√ß√£o anterior - ${textoSetor}`);
                });
                hoverPanel.appendChild(leftArrow);
                
                // Container das logos
                const logosContainer = document.createElement('div');
                logosContainer.className = 'logos-container';
                
                // Adicionar logos (m√°ximo 12 para n√£o sobrecarregar)
                logosSetor.slice(0, 12).forEach((logoPath, logoIndex) => {
                  const logoImg = document.createElement('img');
                  logoImg.src = `http://localhost:3000${logoPath}`;
                  logoImg.alt = `Empresa ${logoIndex + 1} - ${textoSetor}`;
                  logoImg.className = 'logo-item';
                  
                  logoImg.onerror = function() {
                    console.error(`[DEBUG] ‚ùå Erro ao carregar logo hover: ${logoPath}`);
                    this.style.display = 'none';
                  };
                  logoImg.onload = function() {
                    console.log(`[DEBUG] ‚úÖ Logo hover carregada: ${logoPath}`);
                  };
                  
                  logosContainer.appendChild(logoImg);
                });
                
                hoverPanel.appendChild(logosContainer);
                
                // Seta de navega√ß√£o - direita
                const rightArrow = document.createElement('div');
                rightArrow.className = 'nav-arrow right';
                rightArrow.innerHTML = '';
                rightArrow.addEventListener('click', (e) => {
                  e.stopPropagation();
                  console.log(`[DEBUG] Navega√ß√£o pr√≥xima - ${textoSetor}`);
                });
                hoverPanel.appendChild(rightArrow);
                
                setorCard.appendChild(hoverPanel);
                
                // Reposicionar o painel para ser centralizado em rela√ß√£o ao grid
                setorCard.addEventListener('mouseenter', () => {
                  const gridRect = setoresGrid.getBoundingClientRect();
                  const cardRect = setorCard.getBoundingClientRect();
                  
                  // Calcular posi√ß√£o relativa do painel em rela√ß√£o ao grid
                  const offsetLeft = (gridRect.width - 1150) / 2;
                  hoverPanel.style.left = `-${cardRect.left - gridRect.left - offsetLeft}px`;
                });
                
                console.log(`[DEBUG] ‚úÖ Painel hover adicionado ao ${textoSetor} com ${Math.min(logosSetor.length, 12)} logos`);
              }
              
              // Container do carrossel (ocultar para seguir o exemplo visual)
              const carrosselContainer = document.createElement('div');
              carrosselContainer.className = 'setor-carrossel';
              carrosselContainer.style.display = 'none'; // Ocultar carrossel conforme exemplo
              
              setorCard.appendChild(carrosselContainer);
              setoresGrid.appendChild(setorCard);
            }
            
            console.log('[DEBUG] ‚úÖ Se√ß√£o de expositores renderizada com sucesso');
          } else {
            console.error('[DEBUG] ‚ùå Container de setores n√£o encontrado');
          }
          
          console.log('[DEBUG] === FIM PROCESSAMENTO EXPOSITORES ===');
        })
        .catch(error => {
          console.error('[DEBUG] ‚ùå ERRO ao carregar dados da home:', error);
        });
    }
    
    // Carrega dados da home quando a p√°gina for carregada
    document.addEventListener('DOMContentLoaded', function() {
      console.log('[TESTE] DOMContentLoaded executado!');
      
      // Teste direto sem fetch
      const faixaTitulo = document.getElementById('faixa-titulo');
      if (faixaTitulo) {
        faixaTitulo.textContent = 'TESTE DIRETO FUNCIONOU!';
        console.log('[TESTE] Elemento encontrado e texto definido!');
      } else {
        console.log('[TESTE] Elemento N√ÉO encontrado!');
      }
      
      // Carregamento imediato
      carregarDadosHome();
      
      // Segundo carregamento ap√≥s delay (para garantir)
      setTimeout(() => {
        console.log('[DEBUG] === SEGUNDO CARREGAMENTO (FOR√áADO) ===');
        carregarDadosHome();
      }, 2000);
      
      // Terceiro carregamento ap√≥s mais delay
      setTimeout(() => {
        console.log('[DEBUG] === TERCEIRO CARREGAMENTO (FINAL) ===');
        carregarDadosHome();
      }, 5000);
    });
  </script>
<!-- ...existing code... -->


  <!-- =====================
       FAIXA ABAIXO DO BANNER
       ===================== -->
  <section class="faixa-abaixo-banner">
    <div class="container faixa-container">
      <h2 class="faixa-titulo" id="faixa-titulo"></h2>
      <p class="faixa-texto" id="faixa-texto"></p>
      <a href="#" class="btn btn-solid faixa-botao" id="faixa-botao" style="display:none;"></a>
    </div>
  </section>

  <!-- =====================
     SESS√ÉO A FEIRA
     ===================== -->
<section id="afeira" class="sessao-afeira">
  <div class="container-afeira">
    <div class="afeira-texto">
      <p class="afeira-subtitulo-dinamico" id="afeira-subtitulo">SOBRE A FEIRA</p>
      <h2 id="afeira-titulo" class="afeira-subtitulo"></h2>
      <p id="afeira-texto"></p>
    </div>
    <div class="afeira-imagens" id="afeira-imagens">
      <!-- Imagens ser√£o carregadas dinamicamente via JavaScript -->
    </div>
  </div>
</section>

  <!-- =====================
     SESS√ÉO O QUE ESPERAR
     ===================== -->
<section id="oqueesperar" class="sessao-oqueesperar">
  <div class="container-oqueesperar">
    <h2 class="oqueesperar-titulo">O QUE ESPERAR</h2>
    <div class="oqueesperar-grid">
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 1</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar1.jpg" alt="Item 1" /></div>
      </div>
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 2</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar2.jpg" alt="Item 2" /></div>
      </div>
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 3</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar3.jpg" alt="Item 3" /></div>
      </div>
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 4</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar4.jpg" alt="Item 4" /></div>
      </div>
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 5</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar5.jpg" alt="Item 5" /></div>
      </div>
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 6</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar6.jpg" alt="Item 6" /></div>
      </div>
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 7</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar7.jpg" alt="Item 7" /></div>
      </div>
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 8</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar8.jpg" alt="Item 8" /></div>
      </div>
    </div>
  </div>
</section>

  <!-- =====================
     SESS√ÉO EXPOSITOR
     ===================== -->
<section id="expositor" class="sessao-expositor">
  <div class="container-expositor">
    <p class="expositor-label">Expositor</p>
    <h1 class="expositor-titulo">O CORA√á√ÉO DA FEIRA</h1>
    <p class="expositor-setores-label">Setores</p>
    <div class="expositor-setores-grid">
      <!-- Setores ser√£o carregados dinamicamente via JavaScript -->
    </div>
  </div>
</section>

  <!-- =====================
     SESS√ÉO MAPA DA FEIRA
     ===================== -->
<section id="mapa" class="sessao-mapa">
  <div class="container-mapa">
    <h2 class="mapa-titulo">MAPA DA FEIRA</h2>
    <div class="mapa-imagem-wrapper" id="mapa-imagem-wrapper">
      <!-- O preview do mapa ser√° inserido via JS -->
    </div>
    <a href="#" id="btn-download-mapa" download class="btn btn-download-mapa" style="display:none;">Download do Mapa</a>
  </div>
</section>

    <style>
      /* Efeito de zoom elegante no mapa da feira */
      .mapa-imagem-zoom {
        /* Removido o efeito de zoom anterior para n√£o conflitar com a lupa */
        transition: none;
        cursor: zoom-in;
        z-index: 2;
        will-change: auto;
      }
      .mapa-imagem-zoom:hover {
        transform: none;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        filter: none;
        cursor: zoom-in;
      }
      @media (max-width: 900px) {
        .mapa-imagem-zoom:hover {
          transform: none;
        }
      }
      /* MAGNIFIER (LUPA) EFFECT */
      #mapa-magnifier {
        box-shadow: 0 4px 24px 0 rgba(0,0,0,0.18);
        border: 2.5px solid #994C11;
        border-radius: 50%;
        width: 160px;
        height: 160px;
        pointer-events: none;
        position: absolute;
        z-index: 10;
        display: none;
        background: #fff;
        transition: opacity 0.2s;
      }
      @media (max-width: 900px) {
        #mapa-magnifier { display: none !important; }
      }
    </style>

  <!-- =====================
     SESS√ÉO PROGRAMA√á√ÉO
     ===================== -->
  <!-- =====================
     SESS√ÉO PROGRAMA√á√ÉO
     ===================== -->
<section id="programacao" class="sessao-programacao">
  <div class="container-programacao">
    <p class="programacao-label">PROGRAMA√á√ÉO</p>
    <h1 class="programacao-titulo">Fique por dentro dos principais eventos</h1>
    <div class="programacao-botoes">
      <button id="btn-feira-online" class="btn-programacao ativo">Feira Online</button>
      <button id="btn-feira-presencial" class="btn-programacao">Feira Presencial</button>
    </div>
    <div class="programacao-tipo-titulo" id="programacao-tipo-titulo">FEIRA ONLINE</div>
    <div class="programacao-menus">
      <div id="programacao-menu-online" class="programacao-menu" style="display:block;">
        <div class="programacao-menu-lista"></div>
      </div>
      <div id="programacao-menu-presencial" class="programacao-menu" style="display:none;">
        <div class="programacao-menu-lista"></div>
      </div>
    </div>
  </div>
</section>
<link rel="stylesheet" href="assets/css/programacao.css">


<!-- =====================
   SESS√ÉO MATERIAL OFICIAL
   ===================== -->
<section id="material" class="sessao-material-oficial">
  <div class="container-material">
    <p class="material-label">Material Oficial</p>
    <h1 class="material-titulo">Baixe nossos kits de materiais oficiais da feira</h1>
    <p class="material-desc">Garanta que sua participa√ß√£o na feira tenha o m√°ximo de impacto! Aqui voc√™ encontra os materiais oficiais para expositores e imprensa. Fa√ßa o download do Manual do Expositor e o Release de Imprensa.</p>
    <div class="material-botoes">
      <a href="#" id="btn-download-manual" class="btn btn-solid" role="button" aria-label="Baixar Manual do Expositor" style="display:none;">
        <span class="btn-text">Baixar Manual</span>
      </a>
      <a href="#" id="btn-download-release" class="btn btn-outline" role="button" aria-label="Baixar Release de Imprensa" style="display:none;">
        <span class="btn-text">RELEASE DE IMPRENSA</span>
      </a>
    </div>
  </div>
</section>
  <link rel="stylesheet" href="assets/css/material-oficial.css">

  <script>
    // =====================
    // SESS√ÉO PROGRAMA√á√ÉO DIN√ÇMICA
    // =====================
    fetch('http://localhost:3000/api/home')
      .then(res => res.json())
      .then(data => {
        // DEBUG: Dados de programa√ß√£o recebidos
        console.log('[DEBUG] Dados de programa√ß√£o:', data.programacao_online, data.programacao_presencial);

        function renderProgramacao(tipo, containerId) {
          const lista = (tipo === 'online' ? data.programacao_online : data.programacao_presencial) || [];
          const container = document.getElementById(containerId).querySelector('.programacao-menu-lista');
          if (!lista.length) {
            container.innerHTML = '<div style="color:#994C11;font-size:1.1rem;padding:18px;">Nenhuma programa√ß√£o cadastrada.</div>';
            return;
          }
          var html = '<ul class="programacao-menu-lista">';
          lista.forEach((dia, idx) => {
            let dataFormatada = null;
            if (dia.data && typeof dia.data === 'string') {
              try {
                dataFormatada = formatarDataComDiaSemana(dia.data.trim());
              } catch (e) {
                dataFormatada = null;
              }
            }
            const diaMes = (dataFormatada && dataFormatada.diaMes && dataFormatada.diaMes !== 'undefined de undefined') ? dataFormatada.diaMes : (dia.data||'');
            const diaSemana = (dataFormatada && dataFormatada.diaSemana && dataFormatada.diaSemana !== 'undefined') ? dataFormatada.diaSemana : '';
            html += `<li class='programacao-dia-item'>
              <div class='programacao-dia-conteudo'>
                <div class='programacao-dia-textos'>
                  <div class='programacao-dia-semana'>${diaSemana}</div>
                  <div class='programacao-dia-mes'>${diaMes}</div>
                </div>
                <button class='btn-toggle-eventos' data-dia-idx='${idx}'>‚ñº</button>
              </div>
              <div class='programacao-eventos-wrapper' style='display:block;'></div>
            </li>`;
          });
          html += '</ul>';
          container.innerHTML = html;

          // Renderiza eventos abertos por padr√£o
          lista.forEach((dia, idx) => {
            const eventosWrapper = container.querySelectorAll('.programacao-eventos-wrapper')[idx];
            eventosWrapper.innerHTML = '';
            const eventosUl = document.createElement('ul');
            eventosUl.className = 'programacao-eventos-lista';
            eventosWrapper.appendChild(eventosUl);
            (dia.eventos||[]).forEach(ev => {
              const li = document.createElement('li');
              li.className = 'programacao-evento-item';
              li.innerHTML = `${ev.hora ? `<span class='evento-hora'>${ev.hora}</span>` : ''}${ev.hora && ev.titulo ? ' : ' : ''}${ev.titulo ? `<span class='evento-titulo'>${ev.titulo}</span>` : ''}${ev.desc ? `<br><span class='evento-desc'>${ev.desc}</span>` : ''}`;
              eventosUl.appendChild(li);
            });
          });

          // Adiciona eventos de clique para expandir/colapsar eventos
          container.querySelectorAll('.btn-toggle-eventos').forEach(btn => {
            btn.addEventListener('click', function() {
              const idx = parseInt(btn.getAttribute('data-dia-idx'));
              const eventosWrapper = btn.closest('.programacao-dia-conteudo').parentNode.querySelector('.programacao-eventos-wrapper');
              if (eventosWrapper.style.display === 'block') {
                eventosWrapper.style.display = 'none';
                btn.textContent = '‚ñº';
              } else {
                eventosWrapper.style.display = 'block';
                btn.textContent = '‚ñ≤';
              }
            });
          });
        }

        // Bot√µes de altern√¢ncia
        var btnOnline = document.getElementById('btn-feira-online');
        var menuOnline = document.getElementById('programacao-menu-online');
        var btnPresencial = document.getElementById('btn-feira-presencial');
        var menuPresencial = document.getElementById('programacao-menu-presencial');
        var tipoTitulo = document.getElementById('programacao-tipo-titulo');
        btnOnline.addEventListener('click', function() {
          renderProgramacao('online', 'programacao-menu-online');
          menuOnline.style.display = 'block';
          menuPresencial.style.display = 'none';
          tipoTitulo.textContent = 'FEIRA ONLINE';
          btnOnline.classList.add('ativo');
          btnPresencial.classList.remove('ativo');
        });
        btnPresencial.addEventListener('click', function() {
          renderProgramacao('presencial', 'programacao-menu-presencial');
          menuPresencial.style.display = 'block';
          menuOnline.style.display = 'none';
          tipoTitulo.textContent = 'FEIRA PRESENCIAL';
          btnPresencial.classList.add('ativo');
          btnOnline.classList.remove('ativo');
        });
        // Renderiza programa√ß√£o online por padr√£o se existir
        if ((data.programacao_online||[]).length) {
          renderProgramacao('online', 'programacao-menu-online');
          tipoTitulo.textContent = 'FEIRA ONLINE';
          btnOnline.classList.add('ativo');
          btnPresencial.classList.remove('ativo');
        }

        // =====================
        // SESS√ÉO MATERIAL OFICIAL DIN√ÇMICA
        // =====================
        console.log('[DEBUG] === PROCESSANDO MATERIAL OFICIAL ===');
        console.log('[DEBUG] data.material_manual:', data.material_manual);
        console.log('[DEBUG] data.material_release:', data.material_release);
        
        const btnDownloadManual = document.getElementById('btn-download-manual');
        const btnDownloadRelease = document.getElementById('btn-download-release');
        
        console.log('[DEBUG] btnDownloadManual elemento:', btnDownloadManual);
        console.log('[DEBUG] btnDownloadRelease elemento:', btnDownloadRelease);
        
        // Configura bot√£o do Manual do Expositor
        if (data.material_manual && data.material_manual.length > 0) {
          const manualUrl = 'http://localhost:3000' + data.material_manual;
          const manualFileName = data.material_manual.split('/').pop();
          btnDownloadManual.href = manualUrl;
          btnDownloadManual.style.display = 'inline-block';
          btnDownloadManual.setAttribute('download', manualFileName);
          console.log('[DEBUG] Manual do Expositor configurado:', manualUrl);
        } else {
          btnDownloadManual.style.display = 'none';
          console.log('[DEBUG] Manual do Expositor N√ÉO configurado - dados:', data.material_manual);
        }
        
        // Configura bot√£o do Release de Imprensa
        if (data.material_release && data.material_release.length > 0) {
          const releaseUrl = 'http://localhost:3000' + data.material_release;
          const releaseFileName = data.material_release.split('/').pop();
          btnDownloadRelease.href = releaseUrl;
          btnDownloadRelease.style.display = 'inline-block';
          btnDownloadRelease.setAttribute('download', releaseFileName);
          console.log('[DEBUG] Release de Imprensa configurado:', releaseUrl);
        } else {
          btnDownloadRelease.style.display = 'none';
          console.log('[DEBUG] Release de Imprensa N√ÉO configurado - dados:', data.material_release);
        }
        
        // Se nenhum arquivo estiver dispon√≠vel, mostra mensagem
        if ((!data.material_manual || data.material_manual.length === 0) && 
            (!data.material_release || data.material_release.length === 0)) {
          console.log('[DEBUG] Nenhum material oficial dispon√≠vel');
        }
      });

    // Fun√ß√£o utilit√°ria para formatar data no formato "23 de janeiro" e retornar o dia da semana
    function formatarDataComDiaSemana(dataStr) {
      if (!dataStr) return '';
      // Espera data no formato dd/mm/yyyy
      const partes = dataStr.split('/');
      if (partes.length !== 3) return dataStr;
      let [p1, p2, ano] = partes;
      // Detectar poss√≠vel formato MM/DD/AAAA (p1 <=12 e p2 > 12)
      if (/^\d{2}$/.test(p1) && /^\d{2}$/.test(p2) && /^\d{4}$/.test(ano)) {
        const n1 = parseInt(p1,10), n2 = parseInt(p2,10);
        if (n1 >=1 && n1 <=12 && n2 >=13 && n2 <=31) {
          // Inverte para DD/MM/AAAA
          console.log('[DEBUG] Corrigindo data possivelmente em formato MM/DD/AAAA:', dataStr);
          [p1, p2] = [p2, p1];
        }
      }
      const dia = p1.padStart(2,'0');
      const mes = p2.padStart(2,'0');
      const meses = ['janeiro','fevereiro','mar√ßo','abril','maio','junho','julho','agosto','setembro','outubro','novembro','dezembro'];
      const data = new Date(`${ano}-${mes}-${dia}`);
      if (isNaN(data.getTime())) return dataStr;
      const diaSemana = ['Domingo','Segunda-feira','Ter√ßa-feira','Quarta-feira','Quinta-feira','Sexta-feira','S√°bado'][data.getDay()];
      return { diaSemana, diaMes: `${parseInt(dia,10)} de ${meses[data.getMonth()]}` };
    }
  </script>

<!-- =====================
   SESS√ÉO LOCAL
   ===================== -->
<section id="local" class="sessao-local">
  <div class="container-local">
    <p class="nome-sessao">Local</p>
    <h2 class="local-titulo">como chegar</h2>
    <p class="local-desc">O Agroneg√≥cios Copercana acontece no Centro de Eventos Copercana ‚ÄúManoel Carlos de Azevedo Ortolan‚Äù</p>
    <p class="local-endereco">Estrada Herminio Bizio n¬∞ 28¬†- Recreio Planalto¬†- Sert√£ozinho/SP</p>
  </div>
  <div class="container-local">
    <h2 class="local-titulo" id="local-titulo"></h2>
    <p class="local-desc" id="local-desc"></p>
    
    <a class="local-mapa-link" id="local-mapa-link" href="#" target="_blank" style="display:none;">Ver no Google Maps</a>
    <div class="local-mapa-iframe-wrapper" id="local-mapa-iframe-wrapper">
      <iframe 
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1243.8102131301343!2d-48.01983643048648!3d-21.13868844841832!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94b99ec005ebdf23%3A0xf1e6033652b3d72c!2sCentro%20de%20Eventos%20Copercana!5e1!3m2!1spt-BR!2sbr!4v1752688550093!5m2!1spt-BR!2sbr"
        width="100%"
        height="450"
        style="border:0;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.08);"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
  </div>
</section>
<link rel="stylesheet" href="assets/css/local.css">
<!-- Dynamic local script removed to prevent header overlap; static HTML now handles map -->

  <!-- Footer -->
  <footer class="footer">
  <!-- Linha 1: Logos centralizadas -->
  <div class="footer-logo-wrapper">
    <div class="footer-logo">
      <img src="assets/img/Modo_de_isolamento.png" alt="Logo Agroneg√≥cios Copercana">
      <img src="assets/img/Copercana_Horizontal.png" alt="Logo Realiza√ß√£o" class="footer-partner-logo">
      <img src="assets/img/rovista.png" alt="Logo Imprensa" class="footer-partner-logo">
    </div>
  </div>

  <!-- Menu Mobile Overflow (vis√≠vel apenas no mobile) -->
  <div class="footer-mobile-menu">
    <button class="footer-mobile-toggle" id="footerMobileToggle" aria-expanded="false" aria-controls="footerMobileContent" title="Menu de informa√ß√µes">
    </button>
    <div class="footer-mobile-content" id="footerMobileContent" role="region" aria-labelledby="footerMobileToggle">
      
      <!-- Se√ß√£o Informa√ß√µes -->
      <div class="footer-mobile-section">
        <h4>üìÖ Informa√ß√µes</h4>
        <ul>
          <li>
            <img src="assets/img/calendario.png" alt="√çcone Calend√°rio" class="footer-info-icon">
            16 a 27 de Junho de 2025
          </li>
          <li>
            <img src="assets/img/Modo.png" alt="√çcone Localiza√ß√£o" class="footer-info-icon">
            Centro de Eventos Copercana - Sert√£ozinho, SP
          </li>
        </ul>
      </div>
      
      <!-- Se√ß√£o Links √öteis -->
      <div class="footer-mobile-section">
        <h4>üîó Links √öteis</h4>
        <ul>
          <li><a href="cadastro.html">Cadastramento</a></li>
          <li><a href="#mapa">Mapa da Feira</a></li>
          <li><a href="#programacao">Programa√ß√£o</a></li>
          <li><a href="#material">Materiais Oficiais</a></li>
        </ul>
      </div>
      
      <!-- Se√ß√£o Contato -->
      <div class="footer-mobile-section">
        <h4>üìû Contato</h4>
        <ul>
          <li>
            <img src="assets/img/email.png" alt="√çcone Email" class="footer-contact-icon">
            <a href="mailto:marketing@copercana.com.br">marketing@copercana.com.br</a>
          </li>
          <li>
            <img src="assets/img/fone.png" alt="√çcone Telefone" class="footer-contact-icon">
            <a href="tel:+551639463300">(16) 3946-3300</a>
          </li>
        </ul>
      </div>
      
      <!-- Se√ß√£o Redes Sociais -->
      <div class="footer-mobile-section">
        <h4>üì± Redes Sociais</h4>
        <div class="footer-mobile-social">
          <a href="#" aria-label="Facebook"><img src="assets/img/face.png" alt="Facebook"></a>
          <a href="#" aria-label="Instagram"><img src="assets/img/Insta.png" alt="Instagram"></a>
          <a href="#" aria-label="YouTube"><img src="assets/img/youtube.png" alt="YouTube"></a>
          <a href="#" aria-label="LinkedIn"><img src="assets/img/link.png" alt="LinkedIn"></a>
        </div>
      </div>
      
    </div>
  </div>

  <!-- Linha 2: Se√ß√µes (Desktop) -->
  <div class="container-footer">
    <div class="footer-section">
      <h4>Informa√ß√µes</h4>
      <ul>
        <li><img src="assets/img/calendario.png" alt="√çcone Calend√°rio" class="footer-info-icon"> 16 a 27 de Junho de 2025</li>
        <li><img src="assets/img/Modo.png" alt="√çcone Localiza√ß√£o" class="footer-info-icon"> Centro de Eventos Copercana - Sert√£ozinho, SP</li>
      </ul>
    </div>
    <div class="footer-section">
      <h4>Links √∫teis</h4>
      <ul>
        <li><a href="cadastro.html">Cadastramento</a></li>
        <li><a href="#mapa">Mapa da Feira</a></li>
        <li><a href="#programacao">Programa√ß√£o</a></li>
        <li><a href="#material">Materiais Oficiais</a></li>
      </ul>
    </div>
    <div class="footer-section">
      <h4>Contato</h4>
      <ul>
        <li><img src="assets/img/email.png" alt="√çcone Email" class="footer-contact-icon"> marketing@copercana.com.br</li>
        <li><img src="assets/img/fone.png" alt="√çcone Telefone" class="footer-contact-icon"> (16) 3946-3300</li>
      </ul>
    </div>
    <div class="footer-section social-icons">
      <h4>Redes Sociais</h4>
      <a href="#"><img src="assets/img/face.png" alt="Facebook"></a>
      <a href="#"><img src="assets/img/Insta.png" alt="Instagram"></a>
      <a href="#"><img src="assets/img/youtube.png" alt="YouTube"></a>
      <a href="#"><img src="assets/img/link.png" alt="LinkedIn"></a>
    </div>
  </div>

  <!-- Linha 3: Rodap√© inferior -->
  <div class="footer-bottom">
    <a href="#">Pol√≠tica de Privacidade</a> | <a href="#">Pol√≠tica de Cookies</a><br>
    ¬© 2025 Agroneg√≥cios Copercana. Todos os direitos reservados.
  </div>
  
  <!-- Script para funcionalidade do menu mobile -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const toggle = document.getElementById('footerMobileToggle');
      const content = document.getElementById('footerMobileContent');
      
      if (toggle && content) {
        toggle.addEventListener('click', function() {
          const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
          
          if (isExpanded) {
            // Fechar menu
            content.classList.remove('show');
            toggle.classList.remove('active');
            toggle.setAttribute('aria-expanded', 'false');
          } else {
            // Abrir menu
            content.classList.add('show');
            toggle.classList.add('active');
            toggle.setAttribute('aria-expanded', 'true');
          }
        });
        
        // Fechar menu ao clicar fora (apenas no mobile)
        document.addEventListener('click', function(event) {
          if (window.innerWidth <= 768 && 
              !toggle.contains(event.target) && 
              !content.contains(event.target) && 
              toggle.getAttribute('aria-expanded') === 'true') {
            toggle.click();
          }
        });
        
        // Melhor acessibilidade - fechar com ESC
        document.addEventListener('keydown', function(event) {
          if (event.key === 'Escape' && toggle.getAttribute('aria-expanded') === 'true') {
            toggle.click();
          }
        });
      }
    });
  </script>
  
  <link rel="stylesheet" href="assets/css/footer.css">
</html>
</html>
