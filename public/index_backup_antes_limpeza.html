<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Feira do Agroneg√≥cio - Home</title>
  <link rel="stylesheet" href="assets/css/home.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <!-- =====================
       HEADER/NAVBAR
       ===================== -->
  <header class="site-header">
    <div class="container">
      <!-- Logo da Feira -->
      <div class="logo-area">
        <img src="assets/img/Modo_de_isolamento.png" alt="Logo da Feira">
      </div>
      
      <!-- Menu de Navega√ß√£o Desktop -->
      <nav class="menu">
        <a href="index.html">Home</a>
        <!-- Dropdown: A Feira -->
        <div class="dropdown">
          <a href="#afeira" class="dropdown-toggle">A Feira</a>
          <div class="dropdown-menu">
            <a href="#afeira">Sobre a Feira</a>
            <a href="#expositor">Expositores</a>
            <a href="#mapa">Mapa da Feira</a>
            <a href="#programacao">Programa√ß√£o</a>
            <a href="#material">Manual da Feira</a>
            <a href="#local">Local</a>
          </div>
        </div>
        <a href="galeria.html">Galeria</a>
        <a href="contato.html">Contato</a>
      </nav>
      
      <!-- Bot√£o Hamburger Mobile -->
      <button class="header-mobile-toggle" id="headerMobileToggle" aria-expanded="false" aria-controls="headerMobileMenu" title="Menu de navega√ß√£o">
      </button>
      
      <!-- Bot√µes de autentica√ß√£o Desktop -->
      <div class="auth-buttons">
        <a href="cadastro.html" class="btn btn-outline">Cadastre-se</a>
        <a href="login.html" class="btn btn-solid">Login</a>
      </div>
    </div>
    
    <!-- Menu Mobile Overlay -->
    <div class="header-mobile-menu" id="headerMobileMenu">
      <div class="header-mobile-content">
        <div class="header-mobile-header">
          <h3>Menu</h3>
          <button class="header-mobile-close" id="headerMobileClose">&times;</button>
        </div>
        
        <nav class="header-mobile-nav">
          <a href="index.html">Home</a>
          <a href="#afeira">A Feira</a>
          <a href="#afeira" class="submenu-item">Sobre a Feira</a>
          <a href="#expositor" class="submenu-item">Expositores</a>
          <a href="#mapa" class="submenu-item">Mapa da Feira</a>
          <a href="#programacao" class="submenu-item">Programa√ß√£o</a>
          <a href="#material" class="submenu-item">Manual da Feira</a>
          <a href="#local" class="submenu-item">Local</a>
          <a href="galeria.html">Galeria</a>
          <a href="contato.html">Contato</a>
        </nav>
        
        <div class="header-mobile-auth">
          <a href="cadastro.html" class="btn btn-outline">Cadastre-se</a>
          <a href="login.html" class="btn btn-solid">Login</a>
        </div>
      </div>
    </div>
  </header>
  
  <!-- Script para funcionalidade do menu mobile do header -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const headerToggle = document.getElementById('headerMobileToggle');
      const headerMenu = document.getElementById('headerMobileMenu');
      const headerClose = document.getElementById('headerMobileClose');
      
      if (headerToggle && headerMenu && headerClose) {
        
        // Fun√ß√£o centralizada para fechar o menu
        function closeHeaderMenu() {
          headerMenu.classList.remove('show');
          headerToggle.classList.remove('active');
          headerToggle.setAttribute('aria-expanded', 'false');
          document.body.style.overflow = ''; // Restaura scroll da p√°gina
        }
        
        // Abrir menu
        headerToggle.addEventListener('click', function() {
          headerMenu.classList.add('show');
          headerToggle.classList.add('active');
          headerToggle.setAttribute('aria-expanded', 'true');
          document.body.style.overflow = 'hidden'; // Previne scroll da p√°gina
        });
        
        // Fechar menu - bot√£o X
        headerClose.addEventListener('click', function() {
          closeHeaderMenu();
        });
        
        // Fechar menu - clique no overlay
        headerMenu.addEventListener('click', function(event) {
          if (event.target === headerMenu) {
            closeHeaderMenu();
          }
        });
        
        // Fechar menu - tecla ESC
        document.addEventListener('keydown', function(event) {
          if (event.key === 'Escape' && headerMenu.classList.contains('show')) {
            closeHeaderMenu();
          }
        });
        
        // Fechar menu ao clicar em links (para navega√ß√£o suave)
        const mobileLinks = headerMenu.querySelectorAll('a');
        mobileLinks.forEach(link => {
          link.addEventListener('click', function() {
            // Fecha imediatamente para links internos
            if (link.getAttribute('href').startsWith('#') || link.getAttribute('href').indexOf('.html') > -1) {
              setTimeout(() => {
                closeHeaderMenu();
              }, 100); // Delay reduzido para melhor responsividade
            }
          });
        });
      }
    });
  </script>

  <!-- =====================
       BANNER PRINCIPAL
       ===================== -->
  <section class="banner" style="max-width:1440px;max-height:720px;width:100%;height:720px;margin:0 auto;overflow:hidden;">
    <img src="" alt="Banner da Feira" id="banner-img" style="width:100%;height:100%;object-fit:cover;max-width:1440px;max-height:720px;">
  </section>

  <!-- =====================
       CONTADOR REGRESSIVO DIN√ÇMICO
       ===================== -->
<link rel="stylesheet" href="assets/css/contador.css">
<section class="contador-banner" id="contador-dinamico-section" style="display:none;">
  <h2> Em breve, a feira que movimenta o agro estar√° de volta</h2>
  <div id="contador">
    <div><span id="dias" class="contador-numero">00</span><span class="contador-label">dias</span></div>
    <div>:</div>
    <div><span id="horas" class="contador-numero">00</span><span class="contador-label">horas</span></div>
    <div>:</div>
    <div><span id="minutos" class="contador-numero">00</span><span class="contador-label">min</span></div>
    <div>:</div>
    <div><span id="segundos" class="contador-numero">00</span><span class="contador-label">seg</span></div>
  </div>
</section>
  <script>
    // =====================
    // CONTADOR DIN√ÇMICO - Carrega data do backend
    // =====================
    let contadorInterval = null;
    let dataFeiraGlobal = null;
    
    function carregarContadorDinamico() {
      fetch('http://localhost:3000/api/home')
        .then(res => res.json())
        .then(data => {
          console.log('[DEBUG] Dados do contador carregados:', {
            contador_data_feira: data.contador_data_feira,
            contador_data_ativo: data.contador_data_ativo
          });
          
          const secaoContador = document.getElementById('contador-dinamico-section');
          
          // Verifica se a se√ß√£o est√° ativa
          if (data.contador_data_ativo && data.contador_data_feira) {
            // Mostra a se√ß√£o
            secaoContador.style.display = 'block';
            
            // Define a data da feira
            dataFeiraGlobal = new Date(data.contador_data_feira);
            
            // Verifica se a data √© v√°lida
            if (isNaN(dataFeiraGlobal.getTime())) {
              console.error('[DEBUG] Data inv√°lida do contador:', data.contador_data_feira);
              secaoContador.style.display = 'none';
              return;
            }
            
            // Para qualquer contador anterior
            if (contadorInterval) {
              clearInterval(contadorInterval);
            }
            
            // Inicia novo contador
            iniciarContadorDinamico();
          } else {
            // Esconde a se√ß√£o se n√£o estiver ativa
            secaoContador.style.display = 'none';
            console.log('[DEBUG] Se√ß√£o contador desativada ou sem data');
          }
        })
        .catch(error => {
          console.error('[DEBUG] Erro ao carregar dados do contador:', error);
          // Em caso de erro, esconde a se√ß√£o
          document.getElementById('contador-dinamico-section').style.display = 'none';
        });
    }
    
    function iniciarContadorDinamico() {
      function atualizarContador() {
        if (!dataFeiraGlobal) return;
        
        const agora = new Date();
        const diff = dataFeiraGlobal - agora;
        
        if (diff <= 0) {
          document.getElementById('contador').innerHTML = "<span style='color:#BE5E14;'>A feira j√° come√ßou!</span>";
          if (contadorInterval) {
            clearInterval(contadorInterval);
            contadorInterval = null;
          }
          return;
        }
        
        const dias = Math.floor(diff / (1000 * 60 * 60 * 24));
        const horas = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutos = Math.floor((diff / (1000 * 60)) % 60);
        const segundos = Math.floor((diff / 1000) % 60);
        
        const diasEl = document.getElementById('dias');
        const horasEl = document.getElementById('horas');
        const minutosEl = document.getElementById('minutos');
        const segundosEl = document.getElementById('segundos');
        
        if (diasEl) diasEl.textContent = dias.toString().padStart(2, '0');
        if (horasEl) horasEl.textContent = horas.toString().padStart(2, '0');
        if (minutosEl) minutosEl.textContent = minutos.toString().padStart(2, '0');
        if (segundosEl) segundosEl.textContent = segundos.toString().padStart(2, '0');
      }
      
      // Atualiza imediatamente
      atualizarContador();
      
      // Continua atualizando a cada segundo
      contadorInterval = setInterval(atualizarContador, 1000);
    }
    
    // Carrega o contador quando a p√°gina for carregada
    document.addEventListener('DOMContentLoaded', carregarContadorDinamico);

    // =====================
    // CARREGAMENTO DE DADOS DA HOME
    // =====================
    function carregarDadosHome() {
      console.log('[DEBUG] *** INICIANDO CARREGAMENTO DOS DADOS DA HOME ***');
      fetch('http://localhost:3000/api/home')
        .then(res => {
          console.log('[DEBUG] Resposta recebida, status:', res.status);
          return res.json();
        })
        .then(data => {
          console.log('[DEBUG] *** DADOS DA HOME CARREGADOS COM SUCESSO ***');
          console.log('[DEBUG] Dados recebidos:', data);
          
          // Banner
          if (data.banner) {
            const bannerImg = document.getElementById('banner-img');
            console.log('[DEBUG] Banner encontrado:', data.banner, 'Element:', bannerImg);
            if (bannerImg) {
              bannerImg.src = 'http://localhost:3000' + data.banner;
              console.log('[DEBUG] ‚úÖ Banner atualizado');
            }
          }
          
          // Faixa abaixo do banner
          console.log('[DEBUG] Verificando faixa_titulo:', data.faixa_titulo);
          if (data.faixa_titulo) {
            const faixaTitulo = document.getElementById('faixa-titulo');
            console.log('[DEBUG] Elemento faixa-titulo encontrado:', faixaTitulo);
            if (faixaTitulo) {
              faixaTitulo.textContent = data.faixa_titulo;
              console.log('[DEBUG] ‚úÖ Faixa t√≠tulo atualizado para:', data.faixa_titulo);
            }
          }
          
          console.log('[DEBUG] Verificando faixa_texto:', data.faixa_texto);
          if (data.faixa_texto) {
            const faixaTexto = document.getElementById('faixa-texto');
            console.log('[DEBUG] Elemento faixa-texto encontrado:', faixaTexto);
            if (faixaTexto) {
              faixaTexto.textContent = data.faixa_texto;
              console.log('[DEBUG] ‚úÖ Faixa texto atualizado');
            }
          }
          
          // Bot√£o da faixa
          const faixaBotao = document.getElementById('faixa-botao');
          if (faixaBotao) {
            if (data.faixa_botao_ativo && data.faixa_botao_texto && data.faixa_botao_url) {
              faixaBotao.textContent = data.faixa_botao_texto;
              faixaBotao.href = data.faixa_botao_url;
              faixaBotao.style.display = 'inline-block';
              console.log('[DEBUG] ‚úÖ Bot√£o da faixa atualizado');
            } else {
              faixaBotao.style.display = 'none';
              console.log('[DEBUG] ‚ö†Ô∏è Bot√£o da faixa ocultado');
            }
          }
          
          // Sess√£o A Feira
          console.log('[DEBUG] Verificando afeira_titulo:', data.afeira_titulo);
          if (data.afeira_titulo) {
            const afeiraTitulo = document.getElementById('afeira-titulo');
            console.log('[DEBUG] Elemento afeira-titulo encontrado:', afeiraTitulo);
            if (afeiraTitulo) {
              afeiraTitulo.textContent = data.afeira_titulo;
              console.log('[DEBUG] ‚úÖ A Feira t√≠tulo atualizado para:', data.afeira_titulo);
            }
          }
          
          console.log('[DEBUG] Verificando afeira_texto:', data.afeira_texto?.substring(0, 50) + '...');
          if (data.afeira_texto) {
            const afeiraTexto = document.getElementById('afeira-texto');
            console.log('[DEBUG] Elemento afeira-texto encontrado:', afeiraTexto);
            if (afeiraTexto) {
              afeiraTexto.textContent = data.afeira_texto;
              console.log('[DEBUG] ‚úÖ A Feira texto atualizado');
            }
          }
          
          // Imagens da sess√£o A Feira
          console.log('[DEBUG] Verificando afeira_imagens:', data.afeira_imagens);
          if (data.afeira_imagens && Array.isArray(data.afeira_imagens)) {
            const afeiraImagens = document.getElementById('afeira-imagens');
            console.log('[DEBUG] Container afeira-imagens encontrado:', afeiraImagens);
            if (afeiraImagens) {
              afeiraImagens.innerHTML = '';
              data.afeira_imagens.slice(0, 3).forEach((img, index) => {
                const imgElement = document.createElement('img');
                imgElement.src = 'http://localhost:3000' + img;
                imgElement.alt = `Imagem ${index + 1} da Feira`;
                afeiraImagens.appendChild(imgElement);
                console.log('[DEBUG] ‚úÖ Imagem A Feira adicionada:', img);
              });
            }
          }
          
          console.log('[DEBUG] *** CARREGAMENTO CONCLU√çDO ***');
          
          // Sess√£o O QUE ESPERAR
          if (data.oqueesperar_titulo) {
            const oqueesperarTitulo = document.querySelector('.oqueesperar-titulo');
            if (oqueesperarTitulo) oqueesperarTitulo.textContent = data.oqueesperar_titulo;
          }
          
          // Cards O QUE ESPERAR
          for (let i = 1; i <= 8; i++) {
            const textoCard = data[`oqueesperar_card${i}_texto`];
            const imagemCard = data[`oqueesperar_card${i}_img`];
            
            if (textoCard || imagemCard) {
              const cards = document.querySelectorAll('.oqueesperar-card');
              if (cards[i-1]) {
                const front = cards[i-1].querySelector('.oqueesperar-card-front');
                const back = cards[i-1].querySelector('.oqueesperar-card-back img');
                
                if (front && textoCard) {
                  front.textContent = textoCard;
                }
                
                if (back && imagemCard) {
                  back.src = 'http://localhost:3000' + imagemCard;
                  back.alt = textoCard || `Item ${i}`;
                }
              }
            }
          }
          
          // Dados de local
          if (data.local_endereco) {
            // Atualiza tanto o par√°grafo est√°tico quanto o div din√¢mico
            const localEnderecoP = document.querySelector('p.local-endereco');
            const localEnderecoDiv = document.getElementById('local-endereco');
            
            if (localEnderecoP) localEnderecoP.textContent = data.local_endereco;
            if (localEnderecoDiv) localEnderecoDiv.textContent = data.local_endereco;
            console.log('[DEBUG] ‚úÖ Endere√ßo local atualizado:', data.local_endereco);
          }
          
          if (data.local_maps_url) {
            const localMapaLink = document.getElementById('local-mapa-link');
            if (localMapaLink) {
              localMapaLink.href = data.local_maps_url;
              localMapaLink.style.display = 'inline-block';
              console.log('[DEBUG] ‚úÖ Link do Google Maps atualizado');
            }
          }
        })
        .catch(error => {
          console.error('[DEBUG] ‚ùå ERRO ao carregar dados da home:', error);
        });
    }
          
          // Sess√£o O QUE ESPERAR
          if (data.oqueesperar_titulo) {
            const oqueesperarTitulo = document.querySelector('.oqueesperar-titulo');
            if (oqueesperarTitulo) oqueesperarTitulo.textContent = data.oqueesperar_titulo;
          }
          
          // Cards O QUE ESPERAR
          for (let i = 1; i <= 8; i++) {
            const textoCard = data[`oqueesperar_card${i}_texto`];
            const imagemCard = data[`oqueesperar_card${i}_img`];
            
            if (textoCard || imagemCard) {
              const cards = document.querySelectorAll('.oqueesperar-card');
              if (cards[i-1]) {
                const front = cards[i-1].querySelector('.oqueesperar-card-front');
                const back = cards[i-1].querySelector('.oqueesperar-card-back img');
                
                if (front && textoCard) {
                  front.textContent = textoCard;
                }
                
                if (back && imagemCard) {
                  back.src = 'http://localhost:3000' + imagemCard;
                  back.alt = textoCard || `Item ${i}`;
                }
              }
            }
          }
          
          // Dados de local
          if (data.local_endereco) {
            // Atualiza tanto o par√°grafo est√°tico quanto o div din√¢mico
            const localEnderecoP = document.querySelector('p.local-endereco');
            const localEnderecoDiv = document.getElementById('local-endereco');
            
            if (localEnderecoP) localEnderecoP.textContent = data.local_endereco;
            if (localEnderecoDiv) localEnderecoDiv.textContent = data.local_endereco;
          }
          
          if (data.local_maps_url) {
            const localMapaLink = document.getElementById('local-mapa-link');
            if (localMapaLink) {
              localMapaLink.href = data.local_maps_url;
              localMapaLink.style.display = 'inline-block';
            }
          }
        })
        .catch(error => {
          console.error('[DEBUG] Erro ao carregar dados da home:', error);
        });
    }
    
    // Carrega dados da home quando a p√°gina for carregada
    document.addEventListener('DOMContentLoaded', carregarDadosHome);
  </script>
<!-- ...existing code... -->


  <!-- =====================
       FAIXA ABAIXO DO BANNER
       ===================== -->
  <section class="faixa-abaixo-banner">
    <div class="container faixa-container">
      <h2 class="faixa-titulo" id="faixa-titulo"></h2>
      <p class="faixa-texto" id="faixa-texto"></p>
      <a href="#" class="btn btn-solid faixa-botao" id="faixa-botao" style="display:none;"></a>
    </div>
  </section>

  <!-- =====================
     SESS√ÉO A FEIRA
     ===================== -->
<section id="afeira" class="sessao-afeira">
  <div class="container-afeira">
    <div class="afeira-texto">
      <p class="afeira-subtitulo-dinamico" id="afeira-subtitulo">SOBRE A FEIRA</p>
      <h2 id="afeira-titulo" class="afeira-subtitulo"></h2>
      <p id="afeira-texto"></p>
    </div>
    <div class="afeira-imagens" id="afeira-imagens">
      <img src="assets/img/afeira1.jpg" alt="Imagem 1 da Feira">
      <img src="assets/img/afeira2.jpg" alt="Imagem 2 da Feira">
      <img src="assets/img/afeira3.jpg" alt="Imagem 3 da Feira">
    </div>
  </div>
</section>

  <!-- =====================
     SESS√ÉO O QUE ESPERAR
     ===================== -->
<section id="oqueesperar" class="sessao-oqueesperar">
  <div class="container-oqueesperar">
    <h2 class="oqueesperar-titulo">O QUE ESPERAR</h2>
    <div class="oqueesperar-grid">
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 1</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar1.jpg" alt="Item 1" /></div>
      </div>
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 2</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar2.jpg" alt="Item 2" /></div>
      </div>
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 3</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar3.jpg" alt="Item 3" /></div>
      </div>
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 4</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar4.jpg" alt="Item 4" /></div>
      </div>
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 5</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar5.jpg" alt="Item 5" /></div>
      </div>
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 6</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar6.jpg" alt="Item 6" /></div>
      </div>
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 7</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar7.jpg" alt="Item 7" /></div>
      </div>
      <div class="oqueesperar-card">
        <div class="oqueesperar-card-front">Item 8</div>
        <div class="oqueesperar-card-back"><img src="assets/img/oqesperar8.jpg" alt="Item 8" /></div>
      </div>
    </div>
  </div>
</section>

  <!-- =====================
     SESS√ÉO EXPOSITOR
     ===================== -->
<section id="expositor" class="sessao-expositor">
  <div class="container-expositor">
    <p class="expositor-label">Expositor</p>
    <h1 class="expositor-titulo">O CORA√á√ÉO DA FEIRA</h1>
    <p class="expositor-setores-label">Setores</p>
    <div class="expositor-setores-grid">
      <div class="expositor-setor-card" data-setor="legado">
        ESPA√áO LEGADO
        <div class="setor-carrossel" style="display:none;">
          <button class="carrossel-prev" type="button">&#10094;</button>
          <div class="carrossel-logos">
            <img src="assets/img/logo1.png" alt="Empresa 1" class="carrossel-logo">
            <img src="assets/img/logo2.png" alt="Empresa 2" class="carrossel-logo">
            <img src="assets/img/logo3.png" alt="Empresa 3" class="carrossel-logo">
          </div>
          <button class="carrossel-next" type="button">&#10095;</button>
        </div>
      </div>
      <div class="expositor-setor-card" data-setor="evolucao">
        ESPA√áO EVOLU√á√ÉO
        <div class="setor-carrossel" style="display:none;">
          <button class="carrossel-prev" type="button">&#10094;</button>
          <div class="carrossel-logos">
            <img src="assets/img/logo4.png" alt="Empresa 4" class="carrossel-logo">
            <img src="assets/img/logo5.png" alt="Empresa 5" class="carrossel-logo">
            <img src="assets/img/logo6.png" alt="Empresa 6" class="carrossel-logo">
          </div>
          <button class="carrossel-next" type="button">&#10095;</button>
        </div>
      </div>
      <div class="expositor-setor-card" data-setor="conexao">
        ESPA√áO CONEX√ÉO
        <div class="setor-carrossel" style="display:none;">
          <button class="carrossel-prev" type="button">&#10094;</button>
          <div class="carrossel-logos">
            <img src="assets/img/logo7.png" alt="Empresa 7" class="carrossel-logo">
            <img src="assets/img/logo8.png" alt="Empresa 8" class="carrossel-logo">
            <img src="assets/img/logo9.png" alt="Empresa 9" class="carrossel-logo">
          </div>
          <button class="carrossel-next" type="button">&#10095;</button>
        </div>
      </div>
      <div class="expositor-setor-card" data-setor="raiz">
        ESPA√áO RAIZ
        <div class="setor-carrossel" style="display:none;">
          <button class="carrossel-prev" type="button">&#10094;</button>
          <div class="carrossel-logos">
            <img src="assets/img/logo10.png" alt="Empresa 10" class="carrossel-logo">
            <img src="assets/img/logo11.png" alt="Empresa 11" class="carrossel-logo">
            <img src="assets/img/logo12.png" alt="Empresa 12" class="carrossel-logo">
          </div>
          <button class="carrossel-next" type="button">&#10095;</button>
        </div>
      </div>
    </div>
  </div>
</section>

  <!-- =====================
     SESS√ÉO MAPA DA FEIRA
     ===================== -->
<section id="mapa" class="sessao-mapa">
  <div class="container-mapa">
    <h2 class="mapa-titulo">MAPA DA FEIRA</h2>
    <div class="mapa-imagem-wrapper" id="mapa-imagem-wrapper">
      <!-- O preview do mapa ser√° inserido via JS -->
    </div>
    <a href="#" id="btn-download-mapa" download class="btn btn-download-mapa" style="display:none;">Download do Mapa</a>
  </div>
</section>

    <style>
      /* Efeito de zoom elegante no mapa da feira */
      .mapa-imagem-zoom {
        /* Removido o efeito de zoom anterior para n√£o conflitar com a lupa */
        transition: none;
        cursor: zoom-in;
        z-index: 2;
        will-change: auto;
      }
      .mapa-imagem-zoom:hover {
        transform: none;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        filter: none;
        cursor: zoom-in;
      }
      @media (max-width: 900px) {
        .mapa-imagem-zoom:hover {
          transform: none;
        }
      }
      /* MAGNIFIER (LUPA) EFFECT */
      #mapa-magnifier {
        box-shadow: 0 4px 24px 0 rgba(0,0,0,0.18);
        border: 2.5px solid #994C11;
        border-radius: 50%;
        width: 160px;
        height: 160px;
        pointer-events: none;
        position: absolute;
        z-index: 10;
        display: none;
        background: #fff;
        transition: opacity 0.2s;
      }
      @media (max-width: 900px) {
        #mapa-magnifier { display: none !important; }
      }
    </style>

  <!-- =====================
     SESS√ÉO PROGRAMA√á√ÉO
     ===================== -->
      .then(res => res.json())
      .then(data => {
        // DEBUG: Dados carregados do backend
        console.log('[DEBUG] Dados carregados do backend:', data);
        if (data.banner) {
          document.getElementById('banner-img').src = 'http://localhost:3000' + data.banner;
        } else {
          document.getElementById('banner-img').src = 'assets/img/banner-exemplo.jpg';
        }
        // Faixa abaixo do banner
        if (data.faixa_titulo) document.getElementById('faixa-titulo').textContent = data.faixa_titulo;
        if (data.faixa_texto) document.getElementById('faixa-texto').textContent = data.faixa_texto;
        if (data.faixa_botao_ativo && data.faixa_botao_texto && data.faixa_botao_url) {
          const botao = document.getElementById('faixa-botao');
          botao.textContent = data.faixa_botao_texto;
          botao.href = data.faixa_botao_url;
          botao.style.display = 'inline-block';
        } else {
          document.getElementById('faixa-botao').style.display = 'none';
        }

        // =====================
        // Sess√£o "A Feira" din√¢mico
        // =====================
        if (data.afeira_subtitulo) document.getElementById('afeira-subtitulo').textContent = data.afeira_subtitulo;
        if (data.afeira_titulo) document.getElementById('afeira-titulo').textContent = data.afeira_titulo;
        if (data.afeira_texto) document.getElementById('afeira-texto').textContent = data.afeira_texto;
        const container = document.getElementById('afeira-imagens');
        let imgs = Array.isArray(data.afeira_imagens) ? data.afeira_imagens.slice(0,3) : [];
        while (imgs.length < 3) imgs.push('');
        container.innerHTML = imgs.map((src, i) =>
          src ? `<div style='text-align:center;margin-bottom:18px;'>
                    <img src="http://localhost:3000${src}" alt="Imagem ${i+1} da Feira">
                    <div style='font-size:15px;color:#333;margin-top:6px;'>Imagem ${i+1}</div>
                  </div>`
              : `<div style='text-align:center;margin-bottom:18px;'>
                    <div style='width:500px;height:250px;display:inline-block;background:#eee;border-radius:10px;'></div>
                    <div style='font-size:15px;color:#aaa;margin-top:6px;'>Imagem ${i+1}</div>
                 </div>`
        ).join('');

        // =====================
        // Sess√£o "O QUE ESPERAR" din√¢mico
        // =====================
        if (data.oqueesperar_titulo) {
          document.querySelector('.oqueesperar-titulo').textContent = data.oqueesperar_titulo;
        }
        const grid = document.querySelector('.oqueesperar-grid');
        grid.innerHTML = '';
        for (let i = 1; i <= 8; i++) {
          const texto = data[`oqueesperar_card${i}_texto`] || `Item ${i}`;
          const img = data[`oqueesperar_card${i}_img`] ? `http://localhost:3000${data[`oqueesperar_card${i}_img`]}` : `assets/img/oqesperar${i}.jpg`;
          const card = document.createElement('div');
          card.className = 'oqueesperar-card';
          card.innerHTML = `
            <div class="oqueesperar-card-front">${texto}</div>
            <div class="oqueesperar-card-back"><img src="${img}" alt="Item ${i}" /></div>
          `;
          grid.appendChild(card);
        }

        // =====================
        // Sess√£o "EXPOSITOR" din√¢mico - 4 setores, carrossel ao hover
        // =====================
        if (data.expositor_titulo) {
          document.querySelector('.sessao-expositor h1').textContent = data.expositor_titulo;
        }
        const setoresGrid = document.querySelector('.expositor-setores-grid');
        // Limpa setores existentes
        setoresGrid.innerHTML = '';
        
        // Detecta quantos setores existem nos dados
        let totalSetores = 0;
        for (let i = 1; i <= 20; i++) {
          if (data[`expositor_setor${i}_texto`] !== undefined || 
              (data[`expositor_setor${i}_logos`] && data[`expositor_setor${i}_logos`].length > 0)) {
            totalSetores = i;
          }
        }
        
        // Garante pelo menos 4 setores (padr√£o)
        totalSetores = Math.max(4, totalSetores);
        
        console.log(`[DEBUG] Renderizando ${totalSetores} setores de expositores`);
        
        // Dados dos setores (t√≠tulos, cores, logos) - din√¢mico
        const setores = [];
        const coresPadrao = ['#BE5E14', '#005523', '#00466D', '#745943', '#8B4513', '#2F4F4F', '#800080', '#FF4500'];
        
        for (let i = 1; i <= totalSetores; i++) {
          setores.push({
            texto: data[`expositor_setor${i}_texto`] || `Setor ${i}`,
            cor: data[`expositor_setor${i}_cor`] || coresPadrao[(i-1) % coresPadrao.length],
            textoCor: data[`expositor_setor${i}_texto_cor`] || '#fff',
            logos: (data[`expositor_setor${i}_logos`] || []).map((src, j) => ({
              src: 'http://localhost:3000' + src,
              alt: `Logo ${j+1}`
            }))
          });
        }
        // Renderiza setores
        setores.forEach((setor, idx) => {
          const card = document.createElement('div');
          card.className = 'expositor-setor-card';
          card.style.background = setor.cor;
          card.style.color = setor.textoCor;
          card.style.borderRadius = '16px';
          card.style.textAlign = 'center';
          card.style.fontWeight = 'bold';
          card.style.fontSize = '1.2rem';
          card.style.padding = '32px 12px 18px 12px';
          card.style.margin = '0 16px';
          card.style.flex = '1';
          card.style.cursor = 'pointer';
          // Remove seta/ret√¢ngulo
          card.innerHTML = `${setor.texto}`;
          card.dataset.setorIdx = idx;
          setoresGrid.appendChild(card);
        });
        // Carrossel container
        let carrosselContainer = document.querySelector('.setor-carrossel-destaque');
        if (!carrosselContainer) {
          carrosselContainer = document.createElement('div');
          carrosselContainer.className = 'setor-carrossel-destaque';
          carrosselContainer.style.display = 'none';
          carrosselContainer.style.justifyContent = 'center';
          carrosselContainer.style.alignItems = 'center';
          carrosselContainer.style.borderRadius = '16px';
          carrosselContainer.style.margin = '32px 0 0 0';
          carrosselContainer.style.padding = '32px 0';
          carrosselContainer.style.minHeight = '120px';
          carrosselContainer.style.position = 'relative';
          carrosselContainer.innerHTML = `
            <div class="carrossel-logos-destaque" style="display:flex;gap:32px;"></div>
            <div class="rotacao-automatica-info" style="position:absolute;top:-30px;right:10px;font-size:12px;color:#fff;opacity:0.8;background:rgba(0,0,0,0.5);padding:4px 8px;border-radius:4px;display:none;">
              üîÑ Rota√ß√£o Autom√°tica
            </div>
          `;
          setoresGrid.parentNode.appendChild(carrosselContainer);
        }
        // Estado do carrossel
        let setorSelecionado = null;
        let logoAtual = 0;
        function renderCarrossel() {
          if (setorSelecionado === null) return;
          const logosDiv = carrosselContainer.querySelector('.carrossel-logos-destaque');
          const infoDiv = carrosselContainer.querySelector('.rotacao-automatica-info');
          const logos = setores[setorSelecionado].logos;
          
          // Mostra/esconde indicador de rota√ß√£o autom√°tica
          if (infoDiv) {
            infoDiv.style.display = !isManualControl ? 'block' : 'none';
          }
          
          if (!logos || logos.length === 0) {
            logosDiv.innerHTML = `<span style='color:#fff;font-size:1.1rem;'>Nenhuma logo cadastrada para este setor.</span>`;
            carrosselContainer.style.background = setores[setorSelecionado].cor;
            return;
          }
          // Exibe at√© 5 logos a partir do logoAtual
          let html = '';
          for (let i = 0; i < Math.min(5, logos.length); i++) {
            const idx = (logoAtual + i) % logos.length;
            html += `<img src='${logos[idx].src}' alt='${logos[idx].alt}' style='height:80px;max-width:180px;background:#fff;border-radius:8px;padding:8px;'>`;
          }
          logosDiv.innerHTML = html;
          // Cor do carrossel igual ao setor selecionado
          carrosselContainer.style.background = setores[setorSelecionado].cor;
        }
        // Hover nos setores (integrado com rota√ß√£o autom√°tica)
        setoresGrid.querySelectorAll('.expositor-setor-card').forEach(card => {
          card.addEventListener('mouseenter', function() {
            // Pausa rota√ß√£o autom√°tica
            isManualControl = true;
            pararRotacaoAutomatica();
            
            // DEBUG: Setor selecionado no hover
            console.log('[DEBUG] Setor selecionado:', card.dataset.setorIdx);
            setorSelecionado = parseInt(card.dataset.setorIdx);
            logoAtual = 0;
            renderCarrossel();
            carrosselContainer.style.display = 'flex';
            // Destaque visual do setor selecionado
            setoresGrid.querySelectorAll('.expositor-setor-card').forEach(c => {
              c.style.boxShadow = 'none';
              c.style.transform = 'scale(1)';
            });
            card.style.boxShadow = '0 0 0 4px #FFD700';
            card.style.transform = 'scale(1.02)';
          });
          
          card.addEventListener('mouseleave', function() {
            carrosselContainer.style.display = 'none';
            card.style.boxShadow = 'none';
            card.style.transform = 'scale(1)';
            
            // Retoma controle autom√°tico ap√≥s um delay
            isManualControl = false;
            setTimeout(() => {
              if (!isManualControl) {
                iniciarRotacaoAutomatica();
              }
            }, 2000);
          });
        });

        // =====================
        // ROTA√á√ÉO AUTOM√ÅTICA DAS LOGOS
        // =====================
        let autoRotationInterval = null;
        let isManualControl = false;
        
        function iniciarRotacaoAutomatica() {
          // Para qualquer rota√ß√£o anterior
          if (autoRotationInterval) {
            clearInterval(autoRotationInterval);
            autoRotationInterval = null;
          }
          
          // S√≥ inicia a rota√ß√£o se h√° setores com logos
          const setoresComLogos = setores.filter(setor => setor.logos && setor.logos.length > 0);
          if (setoresComLogos.length === 0) {
            console.log('[DEBUG] Nenhum setor com logos encontrado para rota√ß√£o');
            return;
          }
          
          console.log(`[DEBUG] Iniciando rota√ß√£o autom√°tica com ${setoresComLogos.length} setores`);
          
          let setorAtualIdx = -1; // Come√ßa em -1 para que o primeiro incremento seja 0
          
          autoRotationInterval = setInterval(() => {
            // S√≥ executa se n√£o h√° controle manual ativo
            if (isManualControl) {
              console.log('[DEBUG] Rota√ß√£o pausada - controle manual ativo');
              return;
            }
            
            // Encontra o pr√≥ximo setor com logos
            let tentativas = 0;
            do {
              setorAtualIdx = (setorAtualIdx + 1) % setores.length;
              tentativas++;
            } while ((!setores[setorAtualIdx].logos || setores[setorAtualIdx].logos.length === 0) && tentativas < setores.length);
            
            // Se encontrou um setor com logos, exibe
            if (setores[setorAtualIdx].logos && setores[setorAtualIdx].logos.length > 0) {
              console.log(`[DEBUG] Rota√ß√£o autom√°tica - exibindo setor ${setorAtualIdx}: ${setores[setorAtualIdx].texto}`);
              
              // Atualiza estado do carrossel
              setorSelecionado = setorAtualIdx;
              logoAtual = Math.floor(Math.random() * setores[setorAtualIdx].logos.length); // Logo aleat√≥ria
              
              // Renderiza carrossel
              renderCarrossel();
              carrosselContainer.style.display = 'flex';
              
              // Destaque visual suave do setor ativo
              setoresGrid.querySelectorAll('.expositor-setor-card').forEach((c, i) => {
                if (i === setorAtualIdx) {
                  c.style.boxShadow = '0 0 0 3px rgba(255, 215, 0, 0.6)';
                  c.style.transform = 'scale(1.02)';
                  c.style.transition = 'all 0.3s ease';
                  c.classList.add('auto-rotation-active');
                } else {
                  c.style.boxShadow = 'none';
                  c.style.transform = 'scale(1)';
                  c.style.transition = 'all 0.3s ease';
                  c.classList.remove('auto-rotation-active');
                }
              });
            }
          }, 3000); // Troca a cada 3 segundos (mais r√°pido para testar)
        }
        
        function pararRotacaoAutomatica() {
          console.log('[DEBUG] Parando rota√ß√£o autom√°tica');
          if (autoRotationInterval) {
            clearInterval(autoRotationInterval);
            autoRotationInterval = null;
          }
          // Remove destaques visuais e classes de anima√ß√£o
          setoresGrid.querySelectorAll('.expositor-setor-card').forEach(c => {
            c.style.boxShadow = 'none';
            c.style.transform = 'scale(1)';
            c.classList.remove('auto-rotation-active');
          });
        }
        
        // Controle manual - pausa rota√ß√£o no hover do carrossel
        carrosselContainer.addEventListener('mouseenter', function() {
          isManualControl = true;
        });
        
        carrosselContainer.addEventListener('mouseleave', function() {
          isManualControl = false;
          carrosselContainer.style.display = 'none';
          setoresGrid.querySelectorAll('.expositor-setor-card').forEach(c => {
            c.style.boxShadow = 'none';
            c.style.transform = 'scale(1)';
            c.classList.remove('auto-rotation-active');
          });
          // Reinicia rota√ß√£o autom√°tica ap√≥s 3 segundos
          setTimeout(() => {
            if (!isManualControl) {
              iniciarRotacaoAutomatica();
            }
          }, 3000);
        });
        
        // Inicia a rota√ß√£o autom√°tica quando a p√°gina carrega
        console.log('[DEBUG] ===== CONFIGURANDO ROTA√á√ÉO AUTOM√ÅTICA =====');
        setTimeout(() => {
          console.log('[DEBUG] ===== INICIANDO ROTA√á√ÉO AUTOM√ÅTICA =====');
          console.log('[DEBUG] Tentando iniciar rota√ß√£o autom√°tica ap√≥s 2 segundos');
          console.log('[DEBUG] Estado atual - isManualControl:', isManualControl);
          console.log('[DEBUG] Setores dispon√≠veis:', setores.length);
          console.log('[DEBUG] Setores com logos:', setores.filter(s => s.logos && s.logos.length > 0).length);
          setores.forEach((setor, idx) => {
            console.log(`[DEBUG] Setor ${idx}: ${setor.texto} - ${setor.logos ? setor.logos.length : 0} logos`);
          });
          iniciarRotacaoAutomatica();
        }, 2000); // Aguarda 2 segundos ap√≥s carregar a p√°gina

        // =====================
        // SESS√ÉO MAPA DA FEIRA DIN√ÇMICA
        // =====================
        const mapaWrapper = document.getElementById('mapa-imagem-wrapper');
        const btnDownload = document.getElementById('btn-download-mapa');
        mapaWrapper.innerHTML = '';
        btnDownload.style.display = 'none';
        if (data.mapa_imagem && data.mapa_imagem.length > 0) {
          const url = 'http://localhost:3000' + data.mapa_imagem;
          const ext = url.split('.').pop().toLowerCase();
          if (["jpg","jpeg","png","gif","webp","bmp","svg"].includes(ext)) {
            mapaWrapper.innerHTML = `<img src="${url}" alt="Mapa da Feira" class="mapa-imagem mapa-imagem-zoom" style="max-width:100%;height:auto;max-height:700px;width:auto;display:block;margin:0 auto;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,0.08);object-fit:contain;">`;
            btnDownload.href = url;
            btnDownload.style.display = 'inline-block';
          } else if (ext === 'pdf') {
            mapaWrapper.innerHTML = `<iframe src="${url}" style="width:100%;min-height:500px;max-width:700px;height:700px;border:none;display:block;margin:0 auto;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,0.08);"></iframe>`;
            btnDownload.href = url;
            btnDownload.style.display = 'inline-block';
          } else {
            mapaWrapper.innerHTML = `<div style='color:#994C11;font-size:1.1rem;padding:32px;'>Arquivo de mapa n√£o suportado.</div>`;
          }
        } else {
          mapaWrapper.innerHTML = `<div style='color:#aaa;font-size:1.1rem;padding:32px;'>Nenhum mapa cadastrado.</div>`;
        }
      });

    // =====================
    // MAGNIFIER (LUPA) EFFECT FOR MAPA DA FEIRA
    // =====================
    function addMagnifierToMapa() {
      const mapaImg = document.querySelector('.mapa-imagem-zoom');
      if (!mapaImg) return;
      // Remove any existing magnifier
      const oldMagnifier = document.getElementById('mapa-magnifier');
      if (oldMagnifier) oldMagnifier.remove();
      // Only activate on non-touch devices
      if ('ontouchstart' in window || window.innerWidth < 700) return;
      // Create magnifier element
      const magnifier = document.createElement('div');
      magnifier.id = 'mapa-magnifier';
      magnifier.style.position = 'absolute';
      magnifier.style.pointerEvents = 'none';
      magnifier.style.border = '2.5px solid #994C11';
      magnifier.style.borderRadius = '50%';
      magnifier.style.boxShadow = '0 4px 24px 0 rgba(0,0,0,0.18)';
      magnifier.style.width = '160px';
      magnifier.style.height = '160px';
      magnifier.style.overflow = 'hidden';
      magnifier.style.zIndex = '10';
      magnifier.style.display = 'none';
      magnifier.style.background = '#fff';
      magnifier.style.transition = 'opacity 0.2s';
      // Add to wrapper
      const wrapper = document.getElementById('mapa-imagem-wrapper');
      wrapper.style.position = 'relative';
      wrapper.appendChild(magnifier);
      // Set up background image for magnifier
      magnifier.style.backgroundImage = `url('${mapaImg.src}')`;
      magnifier.style.backgroundRepeat = 'no-repeat';
      magnifier.style.backgroundSize = `${mapaImg.width * 2}px ${mapaImg.height * 2}px`;
      // Mouse events
      mapaImg.addEventListener('mousemove', moveMagnifier);
      mapaImg.addEventListener('mouseenter', showMagnifier);
      mapaImg.addEventListener('mouseleave', hideMagnifier);
      function showMagnifier(e) {
        magnifier.style.display = 'block';
        magnifier.style.opacity = '1';
      }
      function hideMagnifier(e) {
        magnifier.style.display = 'none';
        magnifier.style.opacity = '0';
      }
      function moveMagnifier(e) {
        const rect = mapaImg.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        // Clamp to image bounds
        const mx = Math.max(0, Math.min(x, mapaImg.width));
        const my = Math.max(0, Math.min(y, mapaImg.height));
        // Position magnifier
        magnifier.style.left = (mx - 80) + 'px';
        magnifier.style.top = (my - 80) + 'px';
        // Set background position for zoom
        const zoom = 2;
        magnifier.style.backgroundPosition = `-${mx * zoom - 80}px -${my * zoom - 80}px`;
      }
    }
    // Chama a fun√ß√£o ap√≥s o mapa ser renderizado
    fetch('http://localhost:3000/api/home')
      .then(res => res.json())
      .then(data => {
        // ...existing code...
        // SESS√ÉO MAPA DA FEIRA DIN√ÇMICA
        // ...existing code...
        setTimeout(addMagnifierToMapa, 400); // Aguarda renderiza√ß√£o da imagem
      });
  </script>


  <!-- =====================
     SESS√ÉO PROGRAMA√á√ÉO
     ===================== -->
<section id="programacao" class="sessao-programacao">
  <div class="container-programacao">
    <p class="programacao-label">PROGRAMA√á√ÉO</p>
    <h1 class="programacao-titulo">Fique por dentro dos principais eventos</h1>
    <div class="programacao-botoes">
      <button id="btn-feira-online" class="btn-programacao ativo">Feira Online</button>
      <button id="btn-feira-presencial" class="btn-programacao">Feira Presencial</button>
    </div>
    <div class="programacao-tipo-titulo" id="programacao-tipo-titulo">FEIRA ONLINE</div>
    <div class="programacao-menus">
      <div id="programacao-menu-online" class="programacao-menu" style="display:block;">
        <div class="programacao-menu-lista"></div>
      </div>
      <div id="programacao-menu-presencial" class="programacao-menu" style="display:none;">
        <div class="programacao-menu-lista"></div>
      </div>
    </div>
  </div>
</section>
<link rel="stylesheet" href="assets/css/programacao.css">


<!-- =====================
   SESS√ÉO MATERIAL OFICIAL
   ===================== -->
<section id="material" class="sessao-material-oficial">
  <div class="container-material">
    <p class="material-label">Material Oficial</p>
    <h1 class="material-titulo">Baixe nossos kits de materiais oficiais da feira</h1>
    <p class="material-desc">Garanta que sua participa√ß√£o na feira tenha o m√°ximo de impacto! Aqui voc√™ encontra os materiais oficiais para expositores e imprensa. Fa√ßa o download do Manual do Expositor e o Release de Imprensa.</p>
    <div class="material-botoes">
      <a href="#" id="btn-download-manual" class="btn btn-solid" role="button" aria-label="Baixar Manual do Expositor" style="display:none;">
        <span class="btn-text">Baixar Manual</span>
      </a>
      <a href="#" id="btn-download-release" class="btn btn-outline" role="button" aria-label="Baixar Release de Imprensa" style="display:none;">
        <span class="btn-text">RELEASE DE IMPRENSA</span>
      </a>
    </div>
  </div>
</section>
  <link rel="stylesheet" href="assets/css/material-oficial.css">

  <script>
    // =====================
    // SESS√ÉO PROGRAMA√á√ÉO DIN√ÇMICA
    // =====================
    fetch('http://localhost:3000/api/home')
      .then(res => res.json())
      .then(data => {
        // DEBUG: Dados de programa√ß√£o recebidos
        console.log('[DEBUG] Dados de programa√ß√£o:', data.programacao_online, data.programacao_presencial);
        // Fun√ß√£o para renderizar programa√ß√£o
        function renderProgramacao(tipo, containerId) {
          const lista = (tipo === 'online' ? data.programacao_online : data.programacao_presencial) || [];
          const container = document.getElementById(containerId).querySelector('.programacao-menu-lista');
          if (!lista.length) {
            container.innerHTML = '<div style="color:#994C11;font-size:1.1rem;padding:18px;">Nenhuma programa√ß√£o cadastrada.</div>';
            return;
          }
          var html = '<ul class="programacao-menu-lista">';
          lista.forEach((dia, idx) => {
            // Formata data para dia da semana e dia do m√™s
            let dataFormatada = null;
            if (dia.data && typeof dia.data === 'string') {
              try {
                dataFormatada = formatarDataComDiaSemana(dia.data.trim());
              } catch (e) {
                dataFormatada = null;
              }
            }
            const diaMes = (dataFormatada && dataFormatada.diaMes && dataFormatada.diaMes !== 'undefined de undefined') ? dataFormatada.diaMes : (dia.data||'');
            const diaSemana = (dataFormatada && dataFormatada.diaSemana && dataFormatada.diaSemana !== 'undefined') ? dataFormatada.diaSemana : '';
            html += `<li class='programacao-dia-item'>
              <div class='programacao-dia-conteudo'>
                <div class='programacao-dia-textos'>
                  <div class='programacao-dia-semana'>${diaSemana}</div>
                  <div class='programacao-dia-mes'>${diaMes}</div>
                </div>
                <button class='btn-toggle-eventos' data-dia-idx='${idx}'>‚ñº</button>
              </div>
              <div class='programacao-eventos-wrapper' style='display:none;'></div>
            </li>`;
          });
          html += '</ul>';
          container.innerHTML = html;

          // Adiciona eventos de clique para expandir/colapsar eventos
          container.querySelectorAll('.btn-toggle-eventos').forEach(btn => {
            btn.addEventListener('click', function() {
              const idx = parseInt(btn.getAttribute('data-dia-idx'));
              const eventosWrapper = btn.closest('.programacao-dia-conteudo').parentNode.querySelector('.programacao-eventos-wrapper');
              if (eventosWrapper.style.display === 'block') {
                eventosWrapper.style.display = 'none';
                btn.textContent = '‚ñº';
              } else {
                // Renderiza eventos
                const dia = lista[idx];
                eventosWrapper.innerHTML = '';
                const eventosUl = document.createElement('ul');
                eventosUl.className = 'programacao-eventos-lista';
                eventosWrapper.appendChild(eventosUl);
                (dia.eventos||[]).forEach(ev => {
                  const li = document.createElement('li');
                  li.className = 'programacao-evento-item';
                  // Renderiza "hora : nome" na mesma linha
                  li.innerHTML = `${ev.hora ? `<span class='evento-hora'>${ev.hora}</span>` : ''}${ev.hora && ev.titulo ? ' : ' : ''}${ev.titulo ? `<span class='evento-titulo'>${ev.titulo}</span>` : ''}${ev.desc ? ` <span style='color:#555;'>(${ev.desc})</span>` : ''}`;
                  eventosUl.appendChild(li);
                });
                eventosWrapper.style.display = 'block';
                btn.textContent = '‚ñ≤';
              }
            });
          });
        }
        // Bot√µes de altern√¢ncia
        var btnOnline = document.getElementById('btn-feira-online');
        var menuOnline = document.getElementById('programacao-menu-online');
        var btnPresencial = document.getElementById('btn-feira-presencial');
        var menuPresencial = document.getElementById('programacao-menu-presencial');
        var tipoTitulo = document.getElementById('programacao-tipo-titulo');
        btnOnline.addEventListener('click', function() {
          // DEBUG: Bot√£o FEIRA ONLINE clicado
          renderProgramacao('online', 'programacao-menu-online');
          menuOnline.style.display = 'block';
          menuPresencial.style.display = 'none';
          tipoTitulo.textContent = 'FEIRA ONLINE';
          btnOnline.classList.add('ativo');
          btnPresencial.classList.remove('ativo');
        });
        btnPresencial.addEventListener('click', function() {
          // DEBUG: Bot√£o FEIRA PRESENCIAL clicado
          renderProgramacao('presencial', 'programacao-menu-presencial');
          menuPresencial.style.display = 'block';
          menuOnline.style.display = 'none';
          tipoTitulo.textContent = 'FEIRA PRESENCIAL';
          btnPresencial.classList.add('ativo');
          btnOnline.classList.remove('ativo');
        });
        // Renderiza programa√ß√£o online por padr√£o se existir
        if ((data.programacao_online||[]).length) {
          renderProgramacao('online', 'programacao-menu-online');
          tipoTitulo.textContent = 'FEIRA ONLINE';
          btnOnline.classList.add('ativo');
          btnPresencial.classList.remove('ativo');
        }

        // =====================
        // SESS√ÉO MATERIAL OFICIAL DIN√ÇMICA
        // =====================
        const btnDownloadManual = document.getElementById('btn-download-manual');
        const btnDownloadRelease = document.getElementById('btn-download-release');
        
        // Configura bot√£o do Manual do Expositor
        if (data.material_manual && data.material_manual.length > 0) {
          const manualUrl = 'http://localhost:3000' + data.material_manual;
          const manualFileName = data.material_manual.split('/').pop();
          btnDownloadManual.href = manualUrl;
          btnDownloadManual.style.display = 'inline-block';
          btnDownloadManual.setAttribute('download', manualFileName);
          console.log('[DEBUG] Manual do Expositor configurado:', manualUrl);
        } else {
          btnDownloadManual.style.display = 'none';
        }
        
        // Configura bot√£o do Release de Imprensa
        if (data.material_release && data.material_release.length > 0) {
          const releaseUrl = 'http://localhost:3000' + data.material_release;
          const releaseFileName = data.material_release.split('/').pop();
          btnDownloadRelease.href = releaseUrl;
          btnDownloadRelease.style.display = 'inline-block';
          btnDownloadRelease.setAttribute('download', releaseFileName);
          console.log('[DEBUG] Release de Imprensa configurado:', releaseUrl);
        } else {
          btnDownloadRelease.style.display = 'none';
        }
        
        // Se nenhum arquivo estiver dispon√≠vel, mostra mensagem
        if ((!data.material_manual || data.material_manual.length === 0) && 
            (!data.material_release || data.material_release.length === 0)) {
          console.log('[DEBUG] Nenhum material oficial dispon√≠vel');
        }
      });

    // Fun√ß√£o utilit√°ria para formatar data no formato "23 de janeiro" e retornar o dia da semana
    function formatarDataComDiaSemana(dataStr) {
      if (!dataStr) return '';
      // Espera data no formato dd/mm/yyyy
      const partes = dataStr.split('/');
      if (partes.length !== 3) return dataStr;
      const [dia, mes, ano] = partes;
      const meses = ['janeiro','fevereiro','mar√ßo','abril','maio','junho','julho','agosto','setembro','outubro','novembro','dezembro'];
      const data = new Date(`${ano}-${mes.padStart(2,'0')}-${dia.padStart(2,'0')}`);
      if (isNaN(data.getTime())) return dataStr;
      const diaSemana = ['Domingo','Segunda-feira','Ter√ßa-feira','Quarta-feira','Quinta-feira','Sexta-feira','S√°bado'][data.getDay()];
      return { diaSemana, diaMes: `${parseInt(dia)} de ${meses[data.getMonth()]}` };
    }
  </script>

<!-- =====================
   SESS√ÉO LOCAL
   ===================== -->
<section id="local" class="sessao-local">
  <div class="container-local">
    <p class="nome-sessao">Local</p>
    <h2 class="local-titulo">como chegar</h2>
    <p class="local-desc">O Agroneg√≥cios Copercana acontece no Centro de Eventos Copercana ‚ÄúManoel Carlos de Azevedo Ortolan‚Äù</p>
    <p class="local-endereco">Estrada Herminio Bizio n¬∞ 28¬†- Recreio Planalto¬†- Sert√£ozinho/SP</p>
  </div>
  <div class="container-local">
    <h2 class="local-titulo" id="local-titulo"></h2>
    <p class="local-desc" id="local-desc"></p>
    
    <a class="local-mapa-link" id="local-mapa-link" href="#" target="_blank" style="display:none;">Ver no Google Maps</a>
    <div class="local-mapa-iframe-wrapper" id="local-mapa-iframe-wrapper">
      <iframe 
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1243.8102131301343!2d-48.01983643048648!3d-21.13868844841832!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94b99ec005ebdf23%3A0xf1e6033652b3d72c!2sCentro%20de%20Eventos%20Copercana!5e1!3m2!1spt-BR!2sbr!4v1752688550093!5m2!1spt-BR!2sbr"
        width="100%"
        height="450"
        style="border:0;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.08);"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
  </div>
</section>
<link rel="stylesheet" href="assets/css/local.css">
<!-- Dynamic local script removed to prevent header overlap; static HTML now handles map -->

  <!-- Footer -->
  <footer class="footer">
  <!-- Linha 1: Logos centralizadas -->
  <div class="footer-logo-wrapper">
    <div class="footer-logo">
      <img src="assets/img/Modo_de_isolamento.png" alt="Logo Agroneg√≥cios Copercana">
      <img src="assets/img/Copercana_Horizontal.png" alt="Logo Realiza√ß√£o" class="footer-partner-logo">
      <img src="assets/img/rovista.png" alt="Logo Imprensa" class="footer-partner-logo">
    </div>
  </div>

  <!-- Menu Mobile Overflow (vis√≠vel apenas no mobile) -->
  <div class="footer-mobile-menu">
    <button class="footer-mobile-toggle" id="footerMobileToggle" aria-expanded="false" aria-controls="footerMobileContent" title="Menu de informa√ß√µes">
    </button>
    <div class="footer-mobile-content" id="footerMobileContent" role="region" aria-labelledby="footerMobileToggle">
      
      <!-- Se√ß√£o Informa√ß√µes -->
      <div class="footer-mobile-section">
        <h4>üìÖ Informa√ß√µes</h4>
        <ul>
          <li>
            <img src="assets/img/calendario.png" alt="√çcone Calend√°rio" class="footer-info-icon">
            16 a 27 de Junho de 2025
          </li>
          <li>
            <img src="assets/img/Modo.png" alt="√çcone Localiza√ß√£o" class="footer-info-icon">
            Centro de Eventos Copercana - Sert√£ozinho, SP
          </li>
        </ul>
      </div>
      
      <!-- Se√ß√£o Links √öteis -->
      <div class="footer-mobile-section">
        <h4>üîó Links √öteis</h4>
        <ul>
          <li><a href="cadastro.html">Cadastramento</a></li>
          <li><a href="#mapa">Mapa da Feira</a></li>
          <li><a href="#programacao">Programa√ß√£o</a></li>
          <li><a href="#material">Materiais Oficiais</a></li>
        </ul>
      </div>
      
      <!-- Se√ß√£o Contato -->
      <div class="footer-mobile-section">
        <h4>üìû Contato</h4>
        <ul>
          <li>
            <img src="assets/img/email.png" alt="√çcone Email" class="footer-contact-icon">
            <a href="mailto:marketing@copercana.com.br">marketing@copercana.com.br</a>
          </li>
          <li>
            <img src="assets/img/fone.png" alt="√çcone Telefone" class="footer-contact-icon">
            <a href="tel:+551639463300">(16) 3946-3300</a>
          </li>
        </ul>
      </div>
      
      <!-- Se√ß√£o Redes Sociais -->
      <div class="footer-mobile-section">
        <h4>üì± Redes Sociais</h4>
        <div class="footer-mobile-social">
          <a href="#" aria-label="Facebook"><img src="assets/img/face.png" alt="Facebook"></a>
          <a href="#" aria-label="Instagram"><img src="assets/img/Insta.png" alt="Instagram"></a>
          <a href="#" aria-label="YouTube"><img src="assets/img/youtube.png" alt="YouTube"></a>
          <a href="#" aria-label="LinkedIn"><img src="assets/img/link.png" alt="LinkedIn"></a>
        </div>
      </div>
      
    </div>
  </div>

  <!-- Linha 2: Se√ß√µes (Desktop) -->
  <div class="container-footer">
    <div class="footer-section">
      <h4>Informa√ß√µes</h4>
      <ul>
        <li><img src="assets/img/calendario.png" alt="√çcone Calend√°rio" class="footer-info-icon"> 16 a 27 de Junho de 2025</li>
        <li><img src="assets/img/Modo.png" alt="√çcone Localiza√ß√£o" class="footer-info-icon"> Centro de Eventos Copercana - Sert√£ozinho, SP</li>
      </ul>
    </div>
    <div class="footer-section">
      <h4>Links √∫teis</h4>
      <ul>
        <li><a href="cadastro.html">Cadastramento</a></li>
        <li><a href="#mapa">Mapa da Feira</a></li>
        <li><a href="#programacao">Programa√ß√£o</a></li>
        <li><a href="#material">Materiais Oficiais</a></li>
      </ul>
    </div>
    <div class="footer-section">
      <h4>Contato</h4>
      <ul>
        <li><img src="assets/img/email.png" alt="√çcone Email" class="footer-contact-icon"> marketing@copercana.com.br</li>
        <li><img src="assets/img/fone.png" alt="√çcone Telefone" class="footer-contact-icon"> (16) 3946-3300</li>
      </ul>
    </div>
    <div class="footer-section social-icons">
      <h4>Redes Sociais</h4>
      <a href="#"><img src="assets/img/face.png" alt="Facebook"></a>
      <a href="#"><img src="assets/img/Insta.png" alt="Instagram"></a>
      <a href="#"><img src="assets/img/youtube.png" alt="YouTube"></a>
      <a href="#"><img src="assets/img/link.png" alt="LinkedIn"></a>
    </div>
  </div>

  <!-- Linha 3: Rodap√© inferior -->
  <div class="footer-bottom">
    <a href="#">Pol√≠tica de Privacidade</a> | <a href="#">Pol√≠tica de Cookies</a><br>
    ¬© 2025 Agroneg√≥cios Copercana. Todos os direitos reservados.
  </div>
  
  <!-- Script para funcionalidade do menu mobile -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const toggle = document.getElementById('footerMobileToggle');
      const content = document.getElementById('footerMobileContent');
      
      if (toggle && content) {
        toggle.addEventListener('click', function() {
          const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
          
          if (isExpanded) {
            // Fechar menu
            content.classList.remove('show');
            toggle.classList.remove('active');
            toggle.setAttribute('aria-expanded', 'false');
          } else {
            // Abrir menu
            content.classList.add('show');
            toggle.classList.add('active');
            toggle.setAttribute('aria-expanded', 'true');
          }
        });
        
        // Fechar menu ao clicar fora (apenas no mobile)
        document.addEventListener('click', function(event) {
          if (window.innerWidth <= 768 && 
              !toggle.contains(event.target) && 
              !content.contains(event.target) && 
              toggle.getAttribute('aria-expanded') === 'true') {
            toggle.click();
          }
        });
        
        // Melhor acessibilidade - fechar com ESC
        document.addEventListener('keydown', function(event) {
          if (event.key === 'Escape' && toggle.getAttribute('aria-expanded') === 'true') {
            toggle.click();
          }
        });
      }
    });
  </script>
  
  <link rel="stylesheet" href="assets/css/footer.css">
</html>
